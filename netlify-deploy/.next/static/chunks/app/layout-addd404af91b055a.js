(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8576:function(e,t,r){Promise.resolve().then(r.bind(r,5702)),Promise.resolve().then(r.bind(r,6675)),Promise.resolve().then(r.bind(r,1325)),Promise.resolve().then(r.bind(r,2406)),Promise.resolve().then(r.t.bind(r,6087,23)),Promise.resolve().then(r.t.bind(r,7699,23)),Promise.resolve().then(r.t.bind(r,2445,23)),Promise.resolve().then(r.t.bind(r,9308,23)),Promise.resolve().then(r.bind(r,9414)),Promise.resolve().then(r.bind(r,6288))},5702:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(3827),s=r(4090),i=r(2406),n=r(94),l=r(9369),o=r(4732),d=r(7907),c=r(5754),u=r(8792),f=r(3533);let x=()=>{let e=(0,d.useRouter)(),t=(0,d.usePathname)(),{user:r}=(0,i.useAuth)(),[x,h]=s.useState(!1),m=(null==r?void 0:r.email)||"",{videoCredits:b,setPlan:v}=(0,f.V)();return(s.useEffect(()=>{h(!0),v(m)},[m,v]),x)?(0,a.jsx)("aside",{className:"w-[70px] xl:w-[260px] bg-[#fafafa] dark:bg-[#0a0a0c] border-r border-gray-300 dark:border-[#0a0a0c] flex flex-col font-[-apple-system,BlinkMacSystemFont] transition-all duration-300 z-30 h-full",children:(0,a.jsxs)("div",{className:"p-3 xl:p-5 flex flex-col items-center h-full",children:[(0,a.jsxs)("div",{className:"w-full flex justify-start pt-4 mb-10 xl:pt-4 xl:mb-12",children:[(0,a.jsx)("div",{className:"hidden xl:block xl:pl-2",children:(0,a.jsxs)(u.default,{href:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(0,a.jsx)("img",{src:"/BluumLogo.png",alt:"Bluum Logo",width:40,height:40,className:"object-contain dark:hidden"}),(0,a.jsx)("img",{src:"/BluumLogoDarkTheme.png",alt:"Bluum Logo Dark",width:40,height:40,className:"object-contain hidden dark:block"}),(0,a.jsx)("span",{id:"bluum-logo-title",className:"text-xl dark:text-[#fafafa]",children:"Bluum"})]})}),(0,a.jsx)("div",{className:"xl:hidden flex justify-center w-full",children:(0,a.jsxs)(u.default,{href:"/",className:"hover:opacity-80 transition-opacity",children:[(0,a.jsx)("img",{src:"/BluumLogo.png",alt:"Bluum Logo",width:40,height:40,className:"object-contain dark:hidden"}),(0,a.jsx)("img",{src:"/BluumLogoDarkTheme.png",alt:"Bluum Logo Dark",width:40,height:40,className:"object-contain hidden dark:block"})]})})]}),(0,a.jsxs)("nav",{className:"space-y-6 w-full",children:[(0,a.jsx)("div",{children:(0,a.jsx)(c.Button,{variant:"ghost",onClick:()=>e.push("/create"),className:"w-full flex items-center justify-center text-lg font-semibold group transition-all duration-300 rounded-xl relative overflow-hidden text-[#fafafa] hover:text-[#fafafa] dark:text-[#0a0a0c] dark:hover:text-[#0a0a0c] ".concat("hover:opacity-90"," h-10 bg-[#5564ff] hover:bg-[#5564ff]/90 dark:bg-[#fafafa] dark:hover:bg-[#fafafa]/90 z-10 pointer-events-auto"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 scale-125 flex-shrink-0"}),(0,a.jsx)("span",{className:"hidden xl:inline",children:"Create"})]})})}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(c.Button,{variant:"ghost",onClick:()=>e.push("/videos"),className:"w-full text-base rounded-xl ".concat("/videos"===t?"bg-[#fafafa] dark:bg-[#18191C] text-black dark:text-[#fafafa] hover:bg-[#fafafa] dark:hover:bg-[#18191C] hover:text-black dark:hover:text-[#fafafa] border-2 border-[#DADBD2] dark:border-[#27272A]":"text-black dark:text-[#fafafa] hover:text-black dark:hover:text-[#fafafa] hover:bg-[#F5F5F5] dark:hover:bg-[#18191C] border-2 border-transparent dark:hover:border-[#27272A]"," h-10 flex items-center justify-center xl:justify-start z-10 pointer-events-auto"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3 pointer-events-auto",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 scale-125 flex-shrink-0"}),(0,a.jsx)("span",{className:"hidden xl:inline ".concat("/videos"===t?"font-medium":""),children:"My Videos"})]})}),(0,a.jsx)(c.Button,{variant:"ghost",onClick:()=>e.push("/music"),className:"w-full text-base rounded-xl ".concat("/music"===t?"bg-[#fafafa] dark:bg-[#18191C] text-black dark:text-[#fafafa] hover:bg-[#fafafa] dark:hover:bg-[#18191C] hover:text-black dark:hover:text-[#fafafa] border-2 border-[#DADBD2] dark:border-[#27272A]":"text-black dark:text-[#fafafa] hover:text-black dark:hover:text-[#fafafa] hover:bg-[#F5F5F5] dark:hover:bg-[#18191C] border-2 border-transparent dark:hover:border-[#27272A]"," h-10 flex items-center justify-center xl:justify-start z-10 pointer-events-auto"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3 pointer-events-auto",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 scale-125 flex-shrink-0"}),(0,a.jsx)("span",{className:"hidden xl:inline ".concat("/music"===t?"font-medium":""),children:"Music Library"})]})})]})]})]})}):null};var h=r(4175),m=r(9414);function b(){let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)(!1),[n,l]=(0,s.useState)(""),o=async t=>{if(t.preventDefault(),l(""),!e.trim()){m.toast.error("Veuillez entrer un code d'invitation");return}i(!0);try{if(await (0,h.uV)(e.trim())){let{user:t,error:r}=await (0,h.x4)(e.trim());t&&!r?(m.toast.success("Acc\xe8s autoris\xe9"),window.location.href="/"):(m.toast.error(r||"Erreur lors de la v\xe9rification du code"),l(r||"Erreur lors de la v\xe9rification du code"))}else m.toast.error("Code d'invitation invalide ou expir\xe9"),l("Code d'invitation invalide ou expir\xe9")}catch(t){console.error("Verification error:",t);let e=(null==t?void 0:t.message)||"Erreur lors de la v\xe9rification";l(e),m.toast.error(e)}finally{i(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-[#0a0a0c] dark:bg-[#0a0a0c]",children:(0,a.jsxs)("div",{className:"w-full max-w-md mx-auto p-6 md:p-8 space-y-6 md:space-y-8 bg-gray-900 rounded-xl shadow-lg border border-gray-800",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-white",children:"Bluum"}),(0,a.jsx)("p",{className:"text-gray-300 text-sm md:text-base",children:"Bienvenue sur notre plateforme de g\xe9n\xe9ration vid\xe9o"})]}),n&&(0,a.jsx)("div",{className:"bg-red-900/50 border border-red-700 text-red-200 p-3 rounded-lg text-sm",children:n}),(0,a.jsxs)("form",{onSubmit:o,className:"mt-6 md:mt-8 space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"invitation-code",className:"block text-sm font-medium text-gray-200 mb-2",children:"Code d'invitation"}),(0,a.jsx)("input",{id:"invitation-code",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Entrez votre code d'invitation",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-500",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:r||!e.trim(),className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"V\xe9rification...":"Acc\xe9der au site"})]})]})})}function v(e){let{children:t}=e,{user:r,isLoading:n}=(0,i.useAuth)(),[l,o]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=()=>{o(window.innerWidth>768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),n)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-black dark:border-white"})}):r?(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[l&&(0,a.jsx)(x,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto",children:t})]}):(0,a.jsx)(b,{})}},6675:function(e,t,r){"use strict";r.r(t),r.d(t,{SupabaseSync:function(){return n}});var a=r(4090),s=r(2406),i=r(4175);let n=()=>{let{user:e}=(0,s.useAuth)();return(0,a.useEffect)(()=>{e&&(async()=>{await i.OQ.from("users").update({last_seen:new Date().toISOString()}).eq("id",e.id)})()},[e]),null}},1325:function(e,t,r){"use strict";r.r(t),r.d(t,{VideoCleanup:function(){return i}});var a=r(4090),s=r(8227);function i(){return(0,a.useEffect)(()=>{let e=(0,s.d)();return()=>e()},[]),null}},3533:function(e,t,r){"use strict";r.d(t,{V:function(){return a}});let a=(0,r(2574).U)(e=>({plan:"free",videoCredits:0,maxCredits:0,setPlan:t=>{if(!t){e({plan:"free",videoCredits:0,maxCredits:0});return}"bluumfrerk@gmail.com"===t?e({plan:"business",videoCredits:2e3,maxCredits:2e3}):e({plan:"free",videoCredits:0,maxCredits:0})}}))},2445:function(){},9308:function(){}},function(e){e.O(0,[233,799,999,250,288,166,951,971,69,744],function(){return e(e.s=8576)}),_N_E=e.O()}]);