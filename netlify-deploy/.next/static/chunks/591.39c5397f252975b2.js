(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{9985:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=9985,e.exports=t},1913:function(e,t,o){"use strict";o.r(t),o.d(t,{cleanupTempFiles:function(){return u},generateImageWithHook:function(){return s},generateVideo:function(){return a},generateVideoWithFFmpeg:function(){return c}});var r=o(3454);o(8764).Buffer;let n=void 0!==r&&"true"===r.env.NETLIFY;async function i(e){console.log("Traitement vid\xe9o sur Netlify...");try{let t=await fetch("/.netlify/functions/video-processing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:"generateVideo",options:e})});if(!t.ok){let e=await t.text();throw console.error("Erreur lors de l'appel \xe0 la fonction Netlify:",e),Error("Erreur lors de l'appel \xe0 la fonction Netlify: ".concat(e||t.statusText))}let o=await t.json();return console.log("R\xe9sultat de la fonction Netlify:",o),o}catch(e){throw console.error("Erreur lors du traitement vid\xe9o sur Netlify:",e),e}}async function l(e){console.log("Traitement vid\xe9o en local...");try{let t=await fetch("/api/create-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.text();throw console.error("Erreur lors de l'appel \xe0 l'API locale:",e),Error("Erreur lors de l'appel \xe0 l'API locale: ".concat(e||t.statusText))}let o=await t.json();return console.log("R\xe9sultat de l'API locale:",o),o}catch(e){throw console.error("Erreur lors du traitement vid\xe9o en local:",e),e}}async function a(e,t){throw Error("generateVideo can only be called from the server side")}async function c(e){if(n){console.log("Environnement Netlify d\xe9tect\xe9, utilisation du traitement Netlify");try{let t=await i(e);if(t.videoPath){let e=await fetch(t.videoPath);return await e.blob()}return new Blob([],{type:"video/mp4"})}catch(e){throw console.error("Error processing video on Netlify:",e),e}}console.log("Utilisation du traitement local");try{let t=await l(e);if(t.videoPath){let e=await fetch(t.videoPath);return await e.blob()}return new Blob([],{type:"video/mp4"})}catch(e){throw console.error("Error processing video locally:",e),e}}async function s(e,t,o){if(n){console.log("Environnement Netlify d\xe9tect\xe9, utilisation du traitement Netlify pour l'image");try{let r=await fetch("/.netlify/functions/video-processing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:"generateHookPreview",options:{imagePath:e,hookText:t,hookStyle:o}})});if(!r.ok)throw Error("Erreur lors de l'appel \xe0 la fonction Netlify: ".concat(r.statusText));return await r.blob()}catch(e){throw console.error("Error generating hook image on Netlify:",e),e}}return new Blob([],{type:"image/png"})}async function u(e){throw Error("cleanupTempFiles can only be called from the server side")}},1461:function(e,t,o){"use strict";var r=o(3454);let n=!1;function i(){if(n)return null;try{if("true"===r.env.FFMPEG_DISABLE_INITIALIZATION)return console.log("FFmpeg initialization explicitly disabled for Vercel environment"),n=!0,null;return console.log("FFmpeg non initialis\xe9 (environnement client)"),n=!0,null}catch(e){return console.error("Erreur lors de l'initialisation FFmpeg:",e.message),n=!0,null}}let l=async(e,t)=>{try{let o=await fetch("/.netlify/functions/video-processing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:e,options:t})});if(!o.ok)throw Error("Erreur lors de l'appel \xe0 la fonction Netlify: ".concat(o.statusText));return await o.json()}catch(e){throw console.error("Erreur lors de l'appel \xe0 la fonction Netlify:",e),e}};e.exports={get ffmpeg(){return i()},initializeFFmpeg:i,callNetlifyFunction:l}},3445:function(){},6244:function(){},9065:function(){},2004:function(){},2737:function(){}}]);