(()=>{var e={};e.id=572,e.ids=[572],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},69563:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var o=r(50482),a=r(69108),s=r(62563),i=r.n(s),n=r(68300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,31805)),"/Users/twain/Bluum/BLUUM 1.2/Bluum_1.2/app/create/page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,57929)),"/Users/twain/Bluum/BLUUM 1.2/Bluum_1.2/app/create/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,60742)),"/Users/twain/Bluum/BLUUM 1.2/Bluum_1.2/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,20429)),"/Users/twain/Bluum/BLUUM 1.2/Bluum_1.2/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,87984)),"/Users/twain/Bluum/BLUUM 1.2/Bluum_1.2/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,66542)),"/Users/twain/Bluum/BLUUM 1.2/Bluum_1.2/app/not-found.tsx"]}],c=["/Users/twain/Bluum/BLUUM 1.2/Bluum_1.2/app/create/page.tsx"],u="/create/page",f={require:r,loadChunk:()=>Promise.resolve()},m=new o.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/create/page",pathname:"/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5053:(e,t,r)=>{Promise.resolve().then(r.bind(r,92645))},92645:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eK});var o=r(95344),a=r(3729),s=r(16212),i=r(91626);let n=a.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));n.displayName="Textarea";var l=r(62409),d=r(43234),c=r(98462),u=r(31405),f=r(2256),m=r(3975),p=r(16069),h=r(85222),g="ScrollArea",[x,y]=(0,c.b)(g),[v,b]=x(g),w=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:s="hover",dir:i,scrollHideDelay:n=600,...d}=e,[c,f]=a.useState(null),[p,h]=a.useState(null),[g,x]=a.useState(null),[y,b]=a.useState(null),[w,_]=a.useState(null),[k,j]=a.useState(0),[T,N]=a.useState(0),[E,S]=a.useState(!1),[C,L]=a.useState(!1),I=(0,u.e)(t,e=>f(e)),M=(0,m.gm)(i);return(0,o.jsx)(v,{scope:r,type:s,dir:M,scrollHideDelay:n,scrollArea:c,viewport:p,onViewportChange:h,content:g,onContentChange:x,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:E,onScrollbarXEnabledChange:S,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:C,onScrollbarYEnabledChange:L,onCornerWidthChange:j,onCornerHeightChange:N,children:(0,o.jsx)(l.WV.div,{dir:M,...d,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});w.displayName=g;var _="ScrollAreaViewport",k=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:s,nonce:i,...n}=e,d=b(_,r),c=a.useRef(null),f=(0,u.e)(t,c,d.onViewportChange);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,o.jsx)(l.WV.div,{"data-radix-scroll-area-viewport":"",...n,ref:f,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,o.jsx)("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});k.displayName=_;var j="ScrollAreaScrollbar",T=a.forwardRef((e,t)=>{let{forceMount:r,...s}=e,i=b(j,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:l}=i,d="horizontal"===e.orientation;return a.useEffect(()=>(d?n(!0):l(!0),()=>{d?n(!1):l(!1)}),[d,n,l]),"hover"===i.type?(0,o.jsx)(N,{...s,ref:t,forceMount:r}):"scroll"===i.type?(0,o.jsx)(E,{...s,ref:t,forceMount:r}):"auto"===i.type?(0,o.jsx)(S,{...s,ref:t,forceMount:r}):"always"===i.type?(0,o.jsx)(C,{...s,ref:t}):null});T.displayName=j;var N=a.forwardRef((e,t)=>{let{forceMount:r,...s}=e,i=b(j,e.__scopeScrollArea),[n,l]=a.useState(!1);return a.useEffect(()=>{let e=i.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),l(!0)},o=()=>{t=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",o),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",o)}}},[i.scrollArea,i.scrollHideDelay]),(0,o.jsx)(d.z,{present:r||n,children:(0,o.jsx)(S,{"data-state":n?"visible":"hidden",...s,ref:t})})}),E=a.forwardRef((e,t)=>{var r;let{forceMount:s,...i}=e,n=b(j,e.__scopeScrollArea),l="horizontal"===e.orientation,c=G(()=>f("SCROLL_END"),100),[u,f]=(r={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},a.useReducer((e,t)=>r[e][t]??e,"hidden"));return a.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>f("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,n.scrollHideDelay,f]),a.useEffect(()=>{let e=n.viewport,t=l?"scrollLeft":"scrollTop";if(e){let r=e[t],o=()=>{let o=e[t];r!==o&&(f("SCROLL"),c()),r=o};return e.addEventListener("scroll",o),()=>e.removeEventListener("scroll",o)}},[n.viewport,l,f,c]),(0,o.jsx)(d.z,{present:s||"hidden"!==u,children:(0,o.jsx)(C,{"data-state":"hidden"===u?"hidden":"visible",...i,ref:t,onPointerEnter:(0,h.M)(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:(0,h.M)(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),S=a.forwardRef((e,t)=>{let r=b(j,e.__scopeScrollArea),{forceMount:s,...i}=e,[n,l]=a.useState(!1),c="horizontal"===e.orientation,u=G(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;l(c?e:t)}},10);return X(r.viewport,u),X(r.content,u),(0,o.jsx)(d.z,{present:s||n,children:(0,o.jsx)(C,{"data-state":n?"visible":"hidden",...i,ref:t})})}),C=a.forwardRef((e,t)=>{let{orientation:r="vertical",...s}=e,i=b(j,e.__scopeScrollArea),n=a.useRef(null),l=a.useRef(0),[d,c]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=W(d.viewport,d.content),f={...s,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>n.current=e,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:e=>l.current=e};function m(e,t){return function(e,t,r,o="ltr"){let a=F(r),s=t||a/2,i=r.scrollbar.paddingStart+s,n=r.scrollbar.size-r.scrollbar.paddingEnd-(a-s),l=r.content-r.viewport;return H([i,n],"ltr"===o?[0,l]:[-1*l,0])(e)}(e,l.current,d,t)}return"horizontal"===r?(0,o.jsx)(L,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&n.current){let e=V(i.viewport.scrollLeft,d,i.dir);n.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=m(e,i.dir))}}):"vertical"===r?(0,o.jsx)(I,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&n.current){let e=V(i.viewport.scrollTop,d);n.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=m(e))}}):null}),L=a.forwardRef((e,t)=>{let{sizes:r,onSizesChange:s,...i}=e,n=b(j,e.__scopeScrollArea),[l,d]=a.useState(),c=a.useRef(null),f=(0,u.e)(t,c,n.onScrollbarXChange);return a.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,o.jsx)(P,{"data-orientation":"horizontal",...i,ref:f,sizes:r,style:{bottom:0,left:"rtl"===n.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===n.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(n.viewport){let o=n.viewport.scrollLeft+t.deltaX;e.onWheelScroll(o),function(e,t){return e>0&&e<t}(o,r)&&t.preventDefault()}},onResize:()=>{c.current&&n.viewport&&l&&s({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:B(l.paddingLeft),paddingEnd:B(l.paddingRight)}})}})}),I=a.forwardRef((e,t)=>{let{sizes:r,onSizesChange:s,...i}=e,n=b(j,e.__scopeScrollArea),[l,d]=a.useState(),c=a.useRef(null),f=(0,u.e)(t,c,n.onScrollbarYChange);return a.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,o.jsx)(P,{"data-orientation":"vertical",...i,ref:f,sizes:r,style:{top:0,right:"ltr"===n.dir?0:void 0,left:"rtl"===n.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(n.viewport){let o=n.viewport.scrollTop+t.deltaY;e.onWheelScroll(o),function(e,t){return e>0&&e<t}(o,r)&&t.preventDefault()}},onResize:()=>{c.current&&n.viewport&&l&&s({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:B(l.paddingTop),paddingEnd:B(l.paddingBottom)}})}})}),[M,R]=x(j),P=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:s,hasThumb:i,onThumbChange:n,onThumbPointerUp:d,onThumbPointerDown:c,onThumbPositionChange:m,onDragScroll:p,onWheelScroll:g,onResize:x,...y}=e,v=b(j,r),[w,_]=a.useState(null),k=(0,u.e)(t,e=>_(e)),T=a.useRef(null),N=a.useRef(""),E=v.viewport,S=s.content-s.viewport,C=(0,f.W)(g),L=(0,f.W)(m),I=G(x,10);function R(e){T.current&&p({x:e.clientX-T.current.left,y:e.clientY-T.current.top})}return a.useEffect(()=>{let e=e=>{let t=e.target;w?.contains(t)&&C(e,S)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[E,w,S,C]),a.useEffect(L,[s,L]),X(w,I),X(v.content,I),(0,o.jsx)(M,{scope:r,scrollbar:w,hasThumb:i,onThumbChange:(0,f.W)(n),onThumbPointerUp:(0,f.W)(d),onThumbPositionChange:L,onThumbPointerDown:(0,f.W)(c),children:(0,o.jsx)(l.WV.div,{...y,ref:k,style:{position:"absolute",...y.style},onPointerDown:(0,h.M)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),T.current=w.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),R(e))}),onPointerMove:(0,h.M)(e.onPointerMove,R),onPointerUp:(0,h.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=N.current,v.viewport&&(v.viewport.style.scrollBehavior=""),T.current=null})})})}),A="ScrollAreaThumb",$=a.forwardRef((e,t)=>{let{forceMount:r,...a}=e,s=R(A,e.__scopeScrollArea);return(0,o.jsx)(d.z,{present:r||s.hasThumb,children:(0,o.jsx)(O,{ref:t,...a})})}),O=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:s,...i}=e,n=b(A,r),d=R(A,r),{onThumbPositionChange:c}=d,f=(0,u.e)(t,e=>d.onThumbChange(e)),m=a.useRef(void 0),p=G(()=>{m.current&&(m.current(),m.current=void 0)},100);return a.useEffect(()=>{let e=n.viewport;if(e){let t=()=>{if(p(),!m.current){let t=q(e,c);m.current=t,c()}};return c(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[n.viewport,p,c]),(0,o.jsx)(l.WV.div,{"data-state":d.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:(0,h.M)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,o=e.clientY-t.top;d.onThumbPointerDown({x:r,y:o})}),onPointerUp:(0,h.M)(e.onPointerUp,d.onThumbPointerUp)})});$.displayName=A;var D="ScrollAreaCorner",z=a.forwardRef((e,t)=>{let r=b(D,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&a?(0,o.jsx)(U,{...e,ref:t}):null});z.displayName=D;var U=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,...s}=e,i=b(D,r),[n,d]=a.useState(0),[c,u]=a.useState(0),f=!!(n&&c);return X(i.scrollbarX,()=>{let e=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(e),u(e)}),X(i.scrollbarY,()=>{let e=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(e),d(e)}),f?(0,o.jsx)(l.WV.div,{...s,ref:t,style:{width:n,height:c,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null});function B(e){return e?parseInt(e,10):0}function W(e,t){let r=e/t;return isNaN(r)?0:r}function F(e){let t=W(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function V(e,t,r="ltr"){let o=F(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,n=function(e,[t,r]){return Math.min(r,Math.max(t,e))}(e,"ltr"===r?[0,i]:[-1*i,0]);return H([0,i],[0,s-o])(n)}function H(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}var q=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},o=0;return function a(){let s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,n=r.top!==s.top;(i||n)&&t(),r=s,o=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(o)};function G(e,t){let r=(0,f.W)(e),o=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(o.current),[]),a.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,t)},[r,t])}function X(e,t){let r=(0,f.W)(t);(0,p.b)(()=>{let t=0;if(e){let o=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(t),o.unobserve(e)}}},[e,r])}let Y=a.forwardRef(({className:e,children:t,...r},a)=>(0,o.jsxs)(w,{ref:a,className:(0,i.cn)("relative overflow-hidden",e),...r,children:[o.jsx(k,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Z,{}),o.jsx(z,{})]}));Y.displayName=w.displayName;let Z=a.forwardRef(({className:e,orientation:t="vertical",...r},a)=>o.jsx(T,{ref:a,orientation:t,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx($,{className:"relative flex-1 rounded-full bg-border"})}));Z.displayName=T.displayName;var Q=r(8122),J=r(6058),K=r(48001),ee=r(57320),et=r(29633),er=r(72829),eo=r(55493),ea=r(67296),es=r(1426),ei=r.n(es),en=r(56815);!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var el=e=>"number"==typeof e&&!isNaN(e),ed=e=>"string"==typeof e,ec=e=>"function"==typeof e,eu=e=>ed(e)||el(e),ef=e=>ed(e)||ec(e)?e:null,em=(e,t)=>!1===e||el(e)&&e>0?e:t,ep=e=>(0,a.isValidElement)(e)||ed(e)||ec(e)||el(e);function eh({enter:e,exit:t,appendPosition:r=!1,collapse:o=!0,collapseDuration:s=300}){return function({children:i,position:n,preventExitTransition:l,done:d,nodeRef:c,isIn:u,playToast:f}){let m=r?`${e}--${n}`:e,p=r?`${t}--${n}`:t,h=(0,a.useRef)(0);return(0,a.useLayoutEffect)(()=>{let e=c.current,t=m.split(" "),r=o=>{o.target===c.current&&(f(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===h.current&&"animationcancel"!==o.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)},[]),(0,a.useEffect)(()=>{let e=c.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,r=300){let{scrollHeight:o,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=o+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}(e,d,s):d()};u||(l?t():(h.current=1,e.className+=` ${p}`,e.addEventListener("animationend",t)))},[u]),a.createElement(a.Fragment,null,i)}}function eg(e,t){return{content:ex(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function ex(e,t,r=!1){return(0,a.isValidElement)(e)&&!ed(e.type)?(0,a.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):ec(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function ey({delay:e,isRunning:t,closeToast:r,type:o="default",hide:s,className:i,controlledProgress:n,progress:l,rtl:d,isIn:c,theme:u}){let f=s||n&&0===l,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};n&&(m.transform=`scaleX(${l})`);let p=(0,en.Z)("Toastify__progress-bar",n?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":d}),h=ec(i)?i({rtl:d,type:o,defaultClassName:p}):(0,en.Z)(p,i);return a.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},a.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${o}`}),a.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:h,style:m,[n&&l>=1?"onTransitionEnd":"onAnimationEnd"]:n&&l<1?null:()=>{c&&r()}}))}var ev=1,eb=()=>`${ev++}`,ew=new Map,e_=[],ek=new Set,ej=e=>ek.forEach(t=>t(e)),eT=()=>ew.size>0,eN=(e,{containerId:t})=>{var r;return null==(r=ew.get(t||1))?void 0:r.toasts.get(e)};function eE(e,t){var r;if(t)return!!(null!=(r=ew.get(t))&&r.isToastActive(e));let o=!1;return ew.forEach(t=>{t.isToastActive(e)&&(o=!0)}),o}function eS(e,t){ep(e)&&(eT()||e_.push({content:e,options:t}),ew.forEach(r=>{r.buildToast(e,t)}))}function eC(e,t){ew.forEach(r=>{null!=t&&null!=t&&t.containerId&&(null==t?void 0:t.containerId)!==r.id||r.toggle(e,null==t?void 0:t.id)})}function eL(e,t){return eS(e,t),t.toastId}function eI(e,t){return{...t,type:t&&t.type||e,toastId:t&&(ed(t.toastId)||el(t.toastId))?t.toastId:eb()}}function eM(e){return(t,r)=>eL(t,eI(e,r))}function eR(e,t){return eL(e,eI("default",t))}eR.loading=(e,t)=>eL(e,eI("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),eR.promise=function(e,{pending:t,error:r,success:o},a){let s;t&&(s=ed(t)?eR.loading(t,a):eR.loading(t.render,{...a,...t}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},n=(e,t,r)=>{if(null==t){eR.dismiss(s);return}let o={type:e,...i,...a,data:r},n=ed(t)?{render:t}:t;return s?eR.update(s,{...o,...n}):eR(n.render,{...o,...n}),r},l=ec(e)?e():e;return l.then(e=>n("success",o,e)).catch(e=>n("error",r,e)),l},eR.success=eM("success"),eR.info=eM("info"),eR.error=eM("error"),eR.warning=eM("warning"),eR.warn=eR.warning,eR.dark=(e,t)=>eL(e,eI("default",{theme:"dark",...t})),eR.dismiss=function(e){!function(e){if(!eT()){e_=e_.filter(t=>null!=e&&t.options.toastId!==e);return}if(null==e||eu(e))ew.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ew.get(e.containerId);t?t.removeToast(e.id):ew.forEach(t=>{t.removeToast(e.id)})}}(e)},eR.clearWaitingQueue=(e={})=>{ew.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},eR.isActive=eE,eR.update=(e,t={})=>{let r=eN(e,t);if(r){let{props:o,content:a}=r,s={delay:100,...o,...t,toastId:t.toastId||e,updateId:eb()};s.toastId!==e&&(s.staleId=e);let i=s.render||a;delete s.render,eL(i,s)}},eR.done=e=>{eR.update(e,{progress:1})},eR.onChange=function(e){return ek.add(e),()=>{ek.delete(e)}},eR.play=e=>eC(!0,e),eR.pause=e=>eC(!1,e);var eP=a.useEffect,eA=({theme:e,type:t,isLoading:r,...o})=>a.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`,...o}),e$={info:function(e){return a.createElement(eA,{...e},a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return a.createElement(eA,{...e},a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return a.createElement(eA,{...e},a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return a.createElement(eA,{...e},a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return a.createElement("div",{className:"Toastify__spinner"})}},eO=e=>e in e$,eD=e=>{let{isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:s,playToast:i}=function(e){var t,r;let[o,s]=(0,a.useState)(!1),[i,n]=(0,a.useState)(!1),l=(0,a.useRef)(null),d=(0,a.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:u,closeToast:f,onClick:m,closeOnClick:p}=e;function h(){s(!0)}function g(){s(!1)}function x(t){let r=l.current;if(d.canDrag&&r){d.didMove=!0,o&&g(),"x"===e.draggableDirection?d.delta=t.clientX-d.start:d.delta=t.clientY-d.start,d.start!==t.clientX&&(d.canCloseOnClick=!1);let a="x"===e.draggableDirection?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;r.style.transform=`translate3d(${a},0)`,r.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function y(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",y);let t=l.current;if(d.canDrag&&d.didMove&&t){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){n(!0),e.closeToast(!0),e.collapseAll();return}t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}t={id:e.toastId,containerId:e.containerId,fn:s},null==(r=ew.get(t.containerId||1))||r.setToggle(t.id,t.fn),(0,a.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",h),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",g)}},[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){d.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",y);let r=l.current;d.canCloseOnClick=!0,d.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(d.start=t.clientX,d.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(d.start=t.clientY,d.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:r,bottom:o,left:a,right:s}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=s&&t.clientY>=r&&t.clientY<=o?g():h()}};return c&&u&&(v.onMouseEnter=g,e.stacked||(v.onMouseLeave=h)),p&&(v.onClick=e=>{m&&m(e),d.canCloseOnClick&&f(!0)}),{playToast:h,pauseToast:g,isRunning:o,preventExitTransition:i,toastRef:l,eventHandlers:v}}(e),{closeButton:n,children:l,autoClose:d,onClick:c,type:u,hideProgressBar:f,closeToast:m,transition:p,position:h,className:g,style:x,progressClassName:y,updateId:v,role:b,progress:w,rtl:_,toastId:k,deleteToast:j,isIn:T,isLoading:N,closeOnClick:E,theme:S,ariaLabel:C}=e,L=(0,en.Z)("Toastify__toast",`Toastify__toast-theme--${S}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":E}),I=ec(g)?g({rtl:_,position:h,type:u,defaultClassName:L}):(0,en.Z)(L,g),M=function({theme:e,type:t,isLoading:r,icon:o}){let s=null,i={theme:e,type:t};return!1===o||(ec(o)?s=o({...i,isLoading:r}):(0,a.isValidElement)(o)?s=(0,a.cloneElement)(o,i):r?s=e$.spinner():eO(t)&&(s=e$[t](i))),s}(e),R=!!w||!d,P={closeToast:m,type:u,theme:S},A=null;return!1===n||(A=ec(n)?n(P):(0,a.isValidElement)(n)?(0,a.cloneElement)(n,P):function({closeToast:e,theme:t,ariaLabel:r="close"}){return a.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:t=>{t.stopPropagation(),e(!0)},"aria-label":r},a.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(P)),a.createElement(p,{isIn:T,done:j,position:h,preventExitTransition:r,nodeRef:o,playToast:i},a.createElement("div",{id:k,tabIndex:0,onClick:c,"data-in":T,className:I,...s,style:x,ref:o,...T&&{role:b,"aria-label":C}},null!=M&&a.createElement("div",{className:(0,en.Z)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},M),ex(l,e,!t),A,!e.customProgressBar&&a.createElement(ey,{...v&&!R?{key:`p-${v}`}:{},rtl:_,theme:S,delay:d,isRunning:t,isIn:T,closeToast:m,hide:f,type:u,className:y,controlledProgress:R,progress:w||0})))},ez=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),eU=eh(ez("bounce",!0));eh(ez("slide",!0)),eh(ez("zoom")),eh(ez("flip"));var eB={position:"top-right",transition:eU,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code};function eW(e){let t={...eB,...e},r=e.stacked,[o,s]=(0,a.useState)(!0),i=(0,a.useRef)(null),{getToastToRender:n,isToastActive:l,count:d}=function(e){var t;let r;let{subscribe:o,getSnapshot:s,setProps:i}=(0,a.useRef)((r=e.containerId||1,{subscribe(t){let o,a,s,i,n,l,d,c,u,f,m,p;let h=(o=1,a=0,s=[],i=[],n=e,l=new Map,d=new Set,c=()=>{i=Array.from(l.values()),d.forEach(e=>e())},u=({containerId:e,toastId:t,updateId:o})=>{let a=l.has(t)&&null==o;return(e?e!==r:1!==r)||a},f=e=>{var t,r;null==(r=null==(t=e.props)?void 0:t.onClose)||r.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)l.forEach(f);else{let t=l.get(e);t&&f(t)}c()},p=e=>{var t,r;let{toastId:o,updateId:a}=e.props,s=null==a;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(o,e),c(),ej(eg(e,s?"added":"updated")),s&&(null==(r=(t=e.props).onOpen)||r.call(t))},{id:r,props:n,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{l.forEach(r=>{var o;(null==t||t===r.props.toastId)&&(null==(o=r.toggle)||o.call(r,e))})},removeToast:m,toasts:l,clearQueue:()=>{a-=s.length,s=[]},buildToast:(e,t)=>{if(u(t))return;let{toastId:r,updateId:i,data:d,staleId:f,delay:h}=t,g=null==i;g&&a++;let x={...n,style:n.toastStyle,key:o++,...Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t)),toastId:r,updateId:i,data:d,isIn:!1,className:ef(t.className||n.toastClassName),progressClassName:ef(t.progressClassName||n.progressClassName),autoClose:!t.isLoading&&em(t.autoClose,n.autoClose),closeToast(e){l.get(r).removalReason=e,m(r)},deleteToast(){let e=l.get(r);if(null!=e){if(ej(eg(e,"removed")),l.delete(r),--a<0&&(a=0),s.length>0){p(s.shift());return}c()}}};x.closeButton=n.closeButton,!1===t.closeButton||ep(t.closeButton)?x.closeButton=t.closeButton:!0===t.closeButton&&(x.closeButton=!ep(n.closeButton)||n.closeButton);let y={content:e,props:x,staleId:f};n.limit&&n.limit>0&&a>n.limit&&g?s.push(y):el(h)?setTimeout(()=>{p(y)},h):p(y)},setProps(e){n=e},setToggle:(e,t)=>{let r=l.get(e);r&&(r.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>i});ew.set(r,h);let g=h.observe(t);return e_.forEach(e=>eS(e.content,e.options)),e_=[],()=>{g(),ew.delete(r)}},setProps(e){var t;null==(t=ew.get(r))||t.setProps(e)},getSnapshot(){var e;return null==(e=ew.get(r))?void 0:e.getSnapshot()}})).current;i(e);let n=null==(t=(0,a.useSyncExternalStore)(o,s,s))?void 0:t.slice();return{getToastToRender:function(t){if(!n)return[];let r=new Map;return e.newestOnTop&&n.reverse(),n.forEach(e=>{let{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)}),Array.from(r,e=>t(e[0],e[1]))},isToastActive:eE,count:null==n?void 0:n.length}}(t),{className:c,style:u,rtl:f,containerId:m,hotKeys:p}=t;function h(){r&&(s(!0),eR.play())}return eP(()=>{var e;if(r){let r=i.current.querySelectorAll('[data-in="true"]'),a=null==(e=t.position)?void 0:e.includes("top"),s=0,n=0;Array.from(r).reverse().forEach((e,t)=>{e.classList.add("Toastify__toast--stacked"),t>0&&(e.dataset.collapsed=`${o}`),e.dataset.pos||(e.dataset.pos=a?"top":"bot");let r=s*(o?.2:1)+(o?0:12*t);e.style.setProperty("--y",`${a?r:-1*r}px`),e.style.setProperty("--g","12"),e.style.setProperty("--s",`${1-(o?n:0)}`),s+=e.offsetHeight,n+=.025})}},[o,d,r]),(0,a.useEffect)(()=>{function e(e){var t;let r=i.current;p(e)&&(null==(t=r.querySelector('[tabIndex="0"]'))||t.focus(),s(!1),eR.pause()),"Escape"===e.key&&(document.activeElement===r||null!=r&&r.contains(document.activeElement))&&(s(!0),eR.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p]),a.createElement("section",{ref:i,className:"Toastify",id:m,onMouseEnter:()=>{r&&(s(!1),eR.pause())},onMouseLeave:h,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},n((e,t)=>{let o,s=t.length?{...u}:{...u,pointerEvents:"none"};return a.createElement("div",{tabIndex:-1,className:(o=(0,en.Z)("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":f}),ec(c)?c({position:e,rtl:f,defaultClassName:o}):(0,en.Z)(o,ef(c))),"data-stacked":r,style:s,key:`c-${e}`},t.map(({content:e,props:t})=>a.createElement(eD,{...t,stacked:r,collapseAll:h,isIn:l(t.toastId,t.containerId),key:`t-${t.key}`},e)))}))}r(45996);var eF=r(76384),eV=r(41664),eH=r(8428);function eq(e){return e?`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`:"0:00"}function eG({template:e,alt:t,position:r="center"}){console.log("TemplateImage rendering with template:",e,"alt:",t,"position:",r);let[s,i]=(0,a.useState)(!1),[n,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!0),u=(0,a.useMemo)(()=>{if(!e?.url)return console.log("No template URL provided"),"";if(e.url.startsWith("local_storage_"))try{let t=localStorage.getItem(e.url);if(t)return console.log("Retrieved from localStorage:",e.url),t}catch(e){console.error("Error accessing localStorage:",e)}return e.url},[e?.url]);return(console.log("Display URL after processing:",u),(0,a.useEffect)(()=>{if(c(!0),i(!1),console.log("Template type check:",e?.type),e?.type==="video"){console.log("Template type is explicitly set to video"),l(!0),c(!1);return}if(u){let e=u.match(/\.(mp4|webm|ogg|mov|avi|wmv)($|\?)/i)||u.includes("video/mp4")||u.includes("video/webm")||u.includes("video/ogg")||u.includes("video/quicktime")||u.includes("video/avi"),t=u.startsWith("blob:")||u.startsWith("data:video"),r=e||t;console.log("URL video detection:",r?"Is video":"Is image","URL:",u,"Matches:",{isVideoUrl:e,isBlobOrDataVideo:t}),l(r),c(!1)}},[u,e]),!u||s)?(console.log("No display URL available or media error, showing placeholder"),(0,o.jsxs)("div",{className:"w-full h-full bg-gray-200 flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"No media"}),s&&o.jsx("span",{className:"text-xs text-red-400 mt-1",children:"Error loading media"})]})):d?o.jsx("div",{className:"w-full h-full bg-gray-100 flex flex-col items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})}):o.jsx("div",{className:"relative w-full h-full overflow-hidden",children:n?o.jsx("video",{src:u,className:`absolute inset-0 w-full h-full object-cover ${"top"===r?"object-top":"bottom"===r?"object-bottom":"object-center"}`,muted:!0,loop:!0,playsInline:!0,autoPlay:!0,controls:!1,onLoadStart:()=>console.log("Video load started for:",u),onLoadedMetadata:()=>console.log("Video metadata loaded for:",u),onLoadedData:()=>console.log("Video data loaded successfully for:",u),onCanPlay:()=>console.log("Video can play now for:",u),onPlay:()=>console.log("Video started playing for:",u),onError:e=>{let t=e.currentTarget;console.error("Error loading video:",{mediaError:t.error?{code:t.error.code,message:t.error.message,MEDIA_ERR_DECODE:t.error.MEDIA_ERR_DECODE,MEDIA_ERR_NETWORK:t.error.MEDIA_ERR_NETWORK,MEDIA_ERR_SRC_NOT_SUPPORTED:t.error.MEDIA_ERR_SRC_NOT_SUPPORTED,MEDIA_ERR_ABORTED:t.error.MEDIA_ERR_ABORTED}:"No specific error details",src:u,videoElementInfo:{networkState:t.networkState,readyState:t.readyState}}),i(!0),t.classList.add("video-error")}},`video-${u}`):o.jsx(ei(),{src:u,alt:t,layout:"fill",className:`absolute inset-0 w-full h-full object-cover ${"top"===r?"object-top":"bottom"===r?"object-bottom":"object-center"}`,onLoad:()=>console.log("Image loaded successfully"),onError:e=>{console.error("Error loading image:",{src:u,target:e.currentTarget?"HTMLImageElement":"unknown",error:"Failed to load image"}),i(!0),e.currentTarget&&(e.currentTarget.classList.add("image-error"),e.currentTarget.setAttribute("title",`Failed to load: ${u}`))}},`img-${u}`)})}let eX=e=>{localStorage.setItem("bluum-generation-state",JSON.stringify(e))},eY=()=>{let e=localStorage.getItem("bluum-generation-state");return e?JSON.parse(e):null},eZ=()=>{localStorage.removeItem("bluum-generation-state")},eQ={INIT:5,TEMPLATE_PREP:5,MEDIA_PREP:5,VIDEO_START:5,COMPLETION:100},eJ=(e,t)=>10+(e+t)/1048576*.5;function eK(){let{user:e}=(0,et.aF)(),{mediaFiles:t}=(0,eo.B)(),[r,l]=(0,a.useState)(null),[d,c]=(0,a.useState)([]),[u,f]=(0,a.useState)(null),[m,p]=(0,a.useState)([]),[h,g]=(0,a.useState)(""),[x,y]=(0,a.useState)(new Set([2])),[v,b]=(0,a.useState)(2),[w,_]=(0,a.useState)(1),[k,j]=(0,a.useState)(!0),[T,N]=(0,a.useState)(null),E=(0,a.useRef)(null),[S,C]=(0,a.useState)({min:4,max:6}),[L,I]=(0,a.useState)({min:4,max:6}),[M,R]=(0,a.useState)([]),[P,A]=(0,a.useState)(new Set),[$,O]=(0,a.useState)("top"),[D,z]=(0,a.useState)(0),[U,B]=(0,a.useState)({position:"top",offset:0}),[W,F]=(0,a.useState)({position:"top",offset:0}),[V,H]=(0,a.useState)("center"),[q,G]=(0,a.useState)(!1),[X,Z]=(0,a.useState)(!1),[es,en]=(0,a.useState)(0),[el,ed]=(0,a.useState)(0),[ec,eu]=(0,a.useState)([]),[ef,em]=(0,a.useState)(!1),[ep,eh]=(0,a.useState)(null),[eg,ex]=(0,a.useState)(0),ey=(0,a.useRef)(null),{uploadTemplate:ev}=function(){let{user:e}=(0,ea.useAuth)(),[t,r]=(0,a.useState)(!1),[o,s]=(0,a.useState)(null),i=(0,a.useCallback)(async e=>{if(e.id)try{await er.OQ.from("users").upsert({id:e.id,email:e.email||"",username:e.username||"",full_name:e.fullName||"",avatar_url:e.avatarUrl||"",updated_at:new Date().toISOString()})}catch(e){console.error("Error syncing user data:",e)}},[]),n=(0,a.useCallback)(async t=>{if(!e)throw Error("User not authenticated");r(!0),s(null);try{let{data:r,error:o}=await er.OQ.from("users").upsert({id:e.id,email:e.email||""}).select().single();if(o)throw o;let{data:a,error:s}=await er.OQ.from("projects").insert({user_id:r.id,name:t}).select().single();if(s)throw s;return a}catch(e){throw s(e instanceof Error?e.message:"An error occurred"),e}finally{r(!1)}},[e]),l=(0,a.useCallback)(async(t,o,a,i)=>{if(!e)throw Error("User not authenticated");r(!0),s(null);try{let r;let s=`${e.id}/${o}/templates/${Date.now()}-${t.name}`,n=await (0,er.tL)(t,"templates",s);if("supabase"===n.storage){let{data:e,error:t}=await er.OQ.from("templates").insert({project_id:o,storage_path:s,position_x:a.x,position_y:a.y,scale:a.scale,duration:i}).select().single();t?console.warn("Failed to insert template record in database:",t):r=e}if(r)r.storage_type=n.storage;else{let e=new Date().toISOString();r={id:`local_${Date.now()}`,project_id:o,storage_path:n.path,position_x:a.x,position_y:a.y,scale:a.scale,duration:i,created_at:e,storage_type:n.storage};try{let e=JSON.parse(localStorage.getItem("local_templates")||"[]");e.push(r),localStorage.setItem("local_templates",JSON.stringify(e))}catch(e){console.warn("Failed to store template metadata in localStorage:",e)}}return r}catch(e){throw s(e instanceof Error?e.message:"An error occurred"),e}finally{r(!1)}},[e]),d=(0,a.useCallback)(async(t,o,a,i,n)=>{if(!e)throw Error("User not authenticated");r(!0),s(null);try{let r=`${e.id}/${o}/media/${Date.now()}-${t.name}`;await (0,er.cT)(t,"media",r);let{data:s,error:l}=await er.OQ.from("media").insert({project_id:o,storage_path:r,type:a,duration:i,order_index:n}).select().single();if(l)throw l;return s}catch(e){throw s(e instanceof Error?e.message:"An error occurred"),e}finally{r(!1)}},[e]),c=(0,a.useCallback)(async(t,o,a)=>{if(!e)throw Error("User not authenticated");r(!0),s(null);try{let r=`${e.id}/${o}/music/${Date.now()}-${t.name}`;await (0,er.cT)(t,"music",r);let{data:s,error:i}=await er.OQ.from("music").insert({project_id:o,storage_path:r,order_index:a}).select().single();if(i)throw i;return s}catch(e){throw s(e instanceof Error?e.message:"An error occurred"),e}finally{r(!1)}},[e]);return{syncUser:i,createProject:n,uploadTemplate:l,uploadMedia:d,uploadMusic:c,addHook:(0,a.useCallback)(async(t,o,a)=>{if(!e)throw Error("User not authenticated");r(!0),s(null);try{let{data:e,error:r}=await er.OQ.from("hooks").insert({project_id:t,text:o,position_x:a.x,position_y:a.y}).select().single();if(r)throw r;return e}catch(e){throw s(e instanceof Error?e.message:"An error occurred"),e}finally{r(!1)}},[e]),generateImages:(0,a.useCallback)(async(t,o,a,i)=>{if(!e)throw Error("User not authenticated");r(!0),s(null);try{let{data:r,error:s}=await er.OQ.from("templates").select("*").eq("id",o).single();if(s)throw s;let{data:n,error:l}=await er.OQ.from("hooks").select("*").eq("id",a).single();if(l)throw l;let d=await (0,er.qm)("templates",r.storage_path),c=await null.generateImageWithHook(d,n.text,{type:"withBackground"===i?2:1,position:"middle",offset:0}),u=`${Date.now()}-image.png`,f=new File([c],u,{type:"image/png"}),m=`${e.id}/${t}/generated/${u}`;await (0,er.cT)(f,"generated",m);let{data:p,error:h}=await er.OQ.from("generated_images").insert({project_id:t,template_id:o,hook_id:a,storage_path:m,font_type:i}).select().single();if(h)throw h;return p}catch(e){throw s(e instanceof Error?e.message:"An error occurred"),e}finally{r(!1)}},[e]),generateVideo:(0,a.useCallback)(async(t,o,a,i)=>{if(!e)throw Error("User not authenticated");r(!0),s(null);try{let{data:r,error:s}=await er.OQ.from("generated_images").select(`
          *,
          template:templates(*),
          hook:hooks(*)
        `).eq("id",o).single();if(s)throw s;let{data:n,error:l}=await er.OQ.from("media").select("*").eq("id",a).single();if(l)throw l;let{data:d,error:c}=i?await er.OQ.from("music").select("*").eq("id",i).single():{data:null,error:null};if(c)throw c;let u=await (0,er.qm)("generated",r.storage_path),f=await (0,er.qm)("media",n.storage_path),m=d?await (0,er.qm)("music",d.storage_path):null,p=await null.generateVideoWithFFmpeg({templateImage:u,mediaFile:f,hookText:r.hook.text,hookStyle:{type:"withBackgroundBlack"===r.font_type?3:"withBackground"===r.font_type?2:1,position:"middle",offset:0},musicFile:m||void 0}),h=`${Date.now()}-video.mp4`,g=new File([p],h,{type:"video/mp4"}),x=`${e.id}/${t}/generated/${h}`;await (0,er.cT)(g,"generated",x);let{data:y,error:v}=await er.OQ.from("generated_videos").insert({project_id:t,generated_image_id:o,media_id:a,music_id:i,storage_path:x}).select().single();if(v)throw v;return y}catch(e){throw s(e instanceof Error?e.message:"An error occurred"),e}finally{r(!1)}},[e]),isLoading:t,error:o}}(),[eb,ew]=(0,a.useState)(0),[e_,ek]=(0,a.useState)(0),[ej,eT]=(0,a.useState)(null),[eN,eE]=(0,a.useState)(!1),{addVideo:eS}=(0,eF.J)(),[eC,eL]=(0,a.useState)(!1),[eI,eM]=(0,a.useState)(!1),eP=(0,a.useMemo)(()=>t.filter(e=>"image"===e.type||"video"===e.type),[t]);(0,a.useEffect)(()=>{ej&&!r&&l(null)},[ej,r]),(0,a.useEffect)(()=>{(async()=>{try{let e=new FontFace("TikTok Display Medium","url(/fonts/TikTokDisplayMedium.otf)",{weight:"400",style:"normal"});await e.load(),document.fonts.add(e),document.fonts.check('1em "TikTok Display Medium"')?console.log("TikTok Display Medium font loaded successfully"):console.warn("TikTok Display Medium font not loaded correctly"),document.body.style.setProperty("--font-tiktok",'"TikTok Display Medium", sans-serif'),setTimeout(()=>{Z(!0)},200)}catch(e){console.error("Error loading fonts:",e),Z(!0)}})()},[]);let eA=()=>h.split("\n")[0]||"";(0,a.useEffect)(()=>{if(X&&ey.current){let e=ey.current,t=e.getContext("2d");if(!t)return;e.width=1080,e.height=1920,t.clearRect(0,0,e.width,e.height);let r=eA();""!==r.trim()&&(t.font=`${Math.floor(.07*e.width)}px "TikTok Display Medium", sans-serif`,(0,i.m)(t,r,{type:v,position:1===v?U.position:W.position,offset:1===v?U.offset:W.offset}))}},[X,v,U,W,h,r]),(0,a.useEffect)(()=>{if(!ey.current||!X||!h)return;let e=ey.current,t=e.getContext("2d");t&&(t.clearRect(0,0,e.width,e.height),document.fonts.ready.then(()=>{let r=eA();""!==r.trim()&&(t.font=`${Math.floor(.07*e.width)}px "TikTok Display Medium", sans-serif`,(0,i.m)(t,r,{type:v,position:1===v?U.position:W.position,offset:1===v?U.offset:W.offset}))}))},[h,v,U,W,X,r]),(0,a.useEffect)(()=>{(async()=>{if(e)try{j(!0);let t=eo.B.getState().cachedSongs;if(t.length>0){p(t),j(!1);return}let r=await (0,er.Bi)(e.id);p(r),eo.B.getState().setCachedSongs(r)}catch(e){console.error("Error loading songs:",e)}finally{j(!1)}})()},[e]);let{getRootProps:e$,getInputProps:eO}=(0,Q.uI)({accept:{"video/*":[".mp4",".mov",".avi"],"image/*":[".jpg",".jpeg",".png",".gif"]},maxFiles:50,onDrop:e=>{(async()=>{let t=[];for(let r of e){let e=URL.createObjectURL(r);if(r.type.startsWith("video/")){let o=document.createElement("video");o.src=e;let a=await new Promise(e=>{o.onloadedmetadata=()=>{e({duration:o.duration,width:o.videoWidth,height:o.videoHeight})},setTimeout(()=>e({duration:5,width:1080,height:1920}),1e3)}),s=a.width/a.height,i=.05>Math.abs(s-.5625);t.push({file:r,type:"video",duration:a.duration,url:e,aspectRatio:s,isCorrectRatio:i})}else if(r.type.startsWith("image/")){let o=await new Promise(t=>{let r=document.createElement("img");r.onload=()=>{t({width:r.width,height:r.height})},r.src=e}),a=o.width/o.height,s=.05>Math.abs(a-.5625);t.push({file:r,type:"image",duration:5,url:e,aspectRatio:a,isCorrectRatio:s})}}R(e=>[...e,...t].slice(0,50)),setTimeout(()=>{t.forEach((e,t)=>{if("video"===e.type){let e=t+M.length,r=document.getElementById(`video-${e}`);r&&r.play().catch(e=>{console.log("Auto-play prevented:",e)})}})},500)})()}}),eD=eP.length>0?[eP[eP.length-1]]:[],ez=e=>{if(T===e.id)E.current?.pause(),N(null);else{E.current&&E.current.pause();let t=new Audio(e.url);E.current=t,t.onended=()=>{N(null)},t.play(),N(e.id)}};(0,a.useEffect)(()=>()=>{E.current&&(E.current.pause(),E.current=null)},[]);let eU=e=>{let t=new Set(P);t.has(e)?t.delete(e):t.add(e),A(t)},eB=(e,t)=>{t.stopPropagation(),H(e)};(0,a.useEffect)(()=>{let e=null,t=0,r=null,o=()=>{e&&(e.close(),e=null),r&&(clearTimeout(r),r=null)},a=()=>{o();try{console.log("Connecting to SSE..."),(e=new EventSource("/api/progress",{withCredentials:!1})).onopen=()=>{console.log("SSE connection opened successfully"),t=0},e.onmessage=e=>{try{let t=JSON.parse(e.data);"number"==typeof t.progress&&ex(t.progress)}catch(e){console.error("Error parsing SSE data:",e)}},e.onerror=e=>{if(console.error("EventSource error:",e),o(),t<5){let e=Math.min(1e3*Math.pow(2,t)+1e3*Math.random(),1e4);t++,console.log(`Attempting to reconnect in ${Math.round(e/1e3)} seconds... (Attempt ${t}/5)`),r=setTimeout(a,e)}else console.error("Max retry attempts reached. Please refresh the page to reconnect.")}}catch(e){console.error("Error creating EventSource:",e),t<5&&(r=setTimeout(a,1e3))}};return a(),()=>{console.log("Cleaning up SSE connection"),o()}},[]);let eK=e=>new Promise((t,r)=>{let o=new FileReader;o.onloadend=()=>{"string"==typeof o.result?t(o.result):r(Error("Failed to convert blob to base64"))},o.onerror=r,o.readAsDataURL(e)}),e0=async e=>(await fetch(e)).blob();(0,a.useEffect)(()=>{let e=eY();e&&e.isGenerating&&(G(e.isGenerating),ex(e.progress),eu(e.generatedVideos),en(e.generatedCount),ed(e.totalToGenerate),ew(e.currentHookIndex),ek(e.currentMediaIndex),e.isGenerating&&e.generatedCount<e.totalToGenerate&&(window.confirm(`La g\xe9n\xe9ration de vid\xe9os a \xe9t\xe9 interrompue (${e.generatedCount}/${e.totalToGenerate} termin\xe9es). Voulez-vous reprendre la g\xe9n\xe9ration?`)?setTimeout(()=>{e1()},1e3):(eZ(),G(!1))))},[]);let e1=async()=>{try{let e=eY();if(!e){eR.error("\xc9tat de g\xe9n\xe9ration perdu. Veuillez recommencer."),G(!1);return}if(!r||0===M.length||!u||!h){eR.error("Impossible de reprendre la g\xe9n\xe9ration. Certains \xe9l\xe9ments sont manquants."),G(!1),eZ();return}let t=eP.find(e=>e.id===r);if(!t){eR.error("Template non trouv\xe9."),G(!1),eZ();return}t.url,t.type;let o=h.split("\n").map(e=>e.trim()).filter(e=>e&&"Enter your hook here or load from a text file.."!==e);if(0===o.length){eR.error("Veuillez entrer au moins un hook valide."),G(!1),eZ();return}let a=Array.from(P).map(e=>M[e]);u.id,u.url;let s=e.generatedCount;eR.success(`Reprise de la g\xe9n\xe9ration \xe0 partir de la vid\xe9o ${s+1}/${e.totalToGenerate}`);for(let t=e.currentHookIndex;t<o.length;t++){ew(t);let r=t===e.currentHookIndex?e.currentMediaIndex:0;for(let o=r;o<a.length;o++)ek(o),eX({isGenerating:!0,progress:Math.round(s/e.totalToGenerate*100),generatedVideos:ec,generatedCount:s,totalToGenerate:e.totalToGenerate,currentHookIndex:t,currentMediaIndex:o}),s++,en(s),ex(Math.round(s/e.totalToGenerate*100))}eZ(),ex(100),eL(!0),setTimeout(()=>{eL(!1),eM(!0)},2e3)}catch(e){console.error("Erreur lors de la reprise de la g\xe9n\xe9ration:",e),eR.error("Une erreur est survenue lors de la reprise de la g\xe9n\xe9ration")}finally{G(!1)}},e2=async()=>{try{if(G(!0),ex(eQ.INIT),eu([]),ew(0),ek(0),!r){eR.error("Veuillez s\xe9lectionner un template pour la partie 1."),G(!1);return}if(0===M.length){eR.error("Veuillez s\xe9lectionner au moins un m\xe9dia pour la partie 2."),G(!1);return}if(!u){eR.error("Veuillez s\xe9lectionner une musique."),G(!1);return}if(!h||""===h.trim()||"Enter your hook here or load from a text file.."===h){eR.error("Veuillez entrer au moins un hook."),G(!1);return}let e=eP.find(e=>e.id===r);if(!e){eR.error("Template non trouv\xe9."),G(!1);return}ex(eQ.TEMPLATE_PREP);let t=e.url,o=e.type||"image";try{if(t.startsWith("blob:")||t.startsWith("local_storage_")){if(t.startsWith("local_storage_")){let e=localStorage.getItem(t);if(e)t=e;else throw Error("Template non trouv\xe9 dans le localStorage")}else{let e=await e0(t);t=await eK(e)}o=t.includes("video/")?"video":"image"}}catch(e){console.error("Erreur lors de la conversion du template:",e),eR.error("Erreur lors de la pr\xe9paration du template"),G(!1);return}let a={url:t,type:o},s=h.split("\n").map(e=>e.trim()).filter(e=>e&&"Enter your hook here or load from a text file.."!==e);if(0===s.length){eR.error("Veuillez entrer au moins un hook valide."),G(!1);return}ex(eQ.MEDIA_PREP);let i=Array.from(P).map(e=>M[e]),n=await Promise.all(i.map(async e=>{if(!e.url)return e;try{let t=e.url;if(t.startsWith("blob:")||t.startsWith("local_storage_")){if(t.startsWith("local_storage_")){let e=localStorage.getItem(t);if(e)t=e;else throw Error("M\xe9dia non trouv\xe9 dans le localStorage")}else{let e=await e0(t);t=await eK(e)}}return{...e,url:t,type:t.includes("video/")?"video":"image"}}catch(e){throw console.error("Erreur lors de la conversion du m\xe9dia:",e),Error("Erreur lors de la pr\xe9paration du m\xe9dia")}})),l=s.length;ed(l);let d={id:u.id,url:u.url};ex(eQ.VIDEO_START),eX({isGenerating:!0,progress:eQ.VIDEO_START,generatedVideos:[],generatedCount:0,totalToGenerate:l,currentHookIndex:0,currentMediaIndex:0});let c=0;for(let e=0;e<l;e++){let t;ew(e);let r=e%n.length;ek(r);let o=s[e],i=n[r],u="image"===i.type,f="image"===a.type,m=90/l;ex(Math.round(5+e/l*90)),eX({isGenerating:!0,progress:Math.round(5+e/l*90),generatedVideos:ec,generatedCount:c,totalToGenerate:l,currentHookIndex:e,currentMediaIndex:r});let p=(S.min+S.max)/2,h=(L.min+L.max)/2,g=p+h;t=u&&f?15e3:u||f?3e4:45e3;let x=g/10,y=Math.round(t*x);console.log(`G\xe9n\xe9ration vid\xe9o ${e+1}/${l}:`,{isImage:u,isFixedPartImage:f,part1AvgDuration:p,part2AvgDuration:h,totalDuration:g,baseEstimatedTime:t,durationFactor:x,estimatedTime:y});let b=Date.now(),w=setInterval(()=>{let t=Date.now()-b,o=Math.min(t/y,.95),a=Math.round(5+e/l*90+m*o),s=Math.min(a,95);ex(s),eX({isGenerating:!0,progress:s,generatedVideos:ec,generatedCount:c,totalToGenerate:l,currentHookIndex:e,currentMediaIndex:r})},500),_={hook:{text:o,style:v,position:1===v?U.position:W.position,offset:1===v?U.offset:W.offset},part1:{url:a.url,type:a.type,position:V,duration:{min:S.min,max:S.max}},part2:{url:i.url,type:i.type},part2Duration:{min:L.min,max:L.max},song:d};try{let e=await fetch("/api/create-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(e.ok){let t=await e.json(),r=t.videoPath,o=t.expiresAt;eS(r,o),eu(e=>[...e,r])}else{let t=await e.text();console.error("Erreur response du serveur:",t),eR.error(`Erreur de cr\xe9ation de vid\xe9o: ${t}`)}}catch(e){console.error("Erreur lors de la cr\xe9ation de la vid\xe9o:",e),eR.error("Erreur lors de la cr\xe9ation de la vid\xe9o")}clearInterval(w),c++,en(c);let k=Math.min(Math.round(5+(e+1)/l*90),95);ex(k),eX({isGenerating:!0,progress:k,generatedVideos:ec,generatedCount:c,totalToGenerate:l,currentHookIndex:e,currentMediaIndex:r})}ex(eQ.COMPLETION),eL(!0),setTimeout(()=>{eL(!1),eM(!0)},2e3)}catch(e){console.error("Erreur lors de la g\xe9n\xe9ration des vid\xe9os:",e),eR.error("Une erreur est survenue lors de la g\xe9n\xe9ration des vid\xe9os")}finally{G(!1)}};(0,a.useEffect)(()=>{let e=()=>{"hidden"===document.visibilityState&&q&&eX({isGenerating:q,progress:eg,generatedVideos:ec,generatedCount:es,totalToGenerate:el,currentHookIndex:eb,currentMediaIndex:e_})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[q,eg,ec,es,el,eb,e_]),(0,a.useEffect)(()=>{q||eZ()},[q]);let e5=e=>{let t=document.createElement("a");e.startsWith("/temp-videos/")?t.href=e:e.includes("supabase")||e.startsWith("http")?t.href=e:t.href=e.startsWith("/generated/")?e:`/generated/${e}`;let r=e.split("/").pop();r&&""!==r.trim()||(r=`video_${Date.now()}.mp4`),t.download=r,document.body.appendChild(t),t.click(),document.body.removeChild(t),setTimeout(()=>{let e=new XMLHttpRequest;e.open("HEAD",t.href,!0),e.onreadystatechange=function(){4===e.readyState&&200!==e.status&&(eR.error(`Erreur: Le fichier n'est pas disponible. Veuillez r\xe9essayer plus tard.`),console.error(`Fichier non disponible: ${t.href}`))},e.send()},500)},e4=async()=>{try{if(0===ec.length){eR.error("Aucune vid\xe9o \xe0 t\xe9l\xe9charger");return}eR.loading("Pr\xe9paration de votre t\xe9l\xe9chargement...");let e=ec.map(e=>{let t=e.split("/").pop()||`video_${Date.now()}.mp4`;return{path:e.startsWith("/temp-videos/")?e:e.includes("supabase")||e.startsWith("http")?e:e.startsWith("/generated/")?e:`/generated/${e}`,fileName:t}});await (0,eV.V)(e,`bluum_videos_${Date.now()}.zip`),eR.dismiss(),eR.success(`${e.length} vid\xe9os t\xe9l\xe9charg\xe9es avec succ\xe8s`)}catch(e){console.error("Erreur lors du t\xe9l\xe9chargement des vid\xe9os:",e),eR.dismiss(),eR.error("Une erreur est survenue lors du t\xe9l\xe9chargement. Veuillez r\xe9essayer.")}},e3=async t=>{let r=t.target.files?.[0];if(!r)return;if(!e){alert("Please log in to upload templates");return}let o=eo.B.getState().mediaFiles||[];o.filter(e=>("image"===e.type||"video"===e.type)&&e.id!==ej?.id);try{eE(!0);let t=r.type.startsWith("image/"),a=r.type.startsWith("video/");if(!t&&!a){alert("Please upload an image or video file");return}if(r.size>10485760){alert("File size must be less than 10MB for both images and videos");return}r.size>5242880&&console.warn(`File size (${(r.size/1048576).toFixed(2)}MB) may be too large for localStorage. Using object URL as fallback.`);let s=URL.createObjectURL(r),i="",n=.5625,d=5;if(t){let e=await new Promise((e,t)=>{let r=document.createElement("img");r.onload=()=>{e({width:r.width,height:r.height})},r.onerror=()=>t(Error("Failed to load image")),r.src=s});n=e.width/e.height,console.log(`Image dimensions: ${e.width}x${e.height}, ratio: ${n.toFixed(2)}`)}if(a){let e=await new Promise((e,t)=>{let r=document.createElement("video");r.onloadedmetadata=()=>{e({duration:r.duration,aspectRatio:r.videoWidth/r.videoHeight})},r.onerror=()=>t(Error("Failed to load video")),r.src=s});d=e.duration,n=e.aspectRatio,console.log(`Video dimensions: ratio: ${n.toFixed(2)}, duration: ${d.toFixed(2)}s`)}console.log("Uploading template...");try{let n=Date.now();e.id,r.name.replace(/[^a-zA-Z0-9.]/g,"_");try{if(await (0,er.KG)().catch(e=>{console.warn("Failed to initialize storage buckets:",e)}),a){console.log("Video file detected, using object URL directly"),i=s;try{let e=JSON.parse(localStorage.getItem("object_urls")||"[]");e.push({id:`local_${n}`,url:s,timestamp:Date.now()}),e.length>5&&e.splice(0,e.length-5),localStorage.setItem("object_urls",JSON.stringify(e))}catch(e){console.warn("Failed to track object URL:",e)}}else if(r.size>2097152)console.log("Large image file detected, using object URL directly"),i=s;else{console.log("Using localStorage for small image file...");let t=`local_storage_templates_user_${e.id}_default_templates_${n}_${r.name.replace(/[^a-zA-Z0-9.]/g,"_")}`;try{let e=[];for(let t=0;t<localStorage.length;t++){let r=localStorage.key(t);r&&r.startsWith("local_storage_templates_user_")&&e.push(r)}e.forEach(e=>{localStorage.removeItem(e),console.log("Removed old template from localStorage:",e)})}catch(e){console.warn("Failed to clean localStorage:",e)}try{let e=await new Promise((e,t)=>{let o=new FileReader;o.onload=()=>e(o.result),o.onerror=()=>t(Error("Failed to read file")),o.readAsDataURL(r)});try{localStorage.setItem(t,e),i=t,console.log("Template stored in localStorage with key:",t)}catch(e){console.error("Failed to store in localStorage:",e),i=s,console.log("localStorage error, using object URL instead")}}catch(e){console.error("Failed to read file:",e),i=s,console.log("File reading error, using object URL instead")}}}catch(e){console.error("All storage methods failed:",e),i=s,console.log("Using preview URL as last resort")}let c={id:`local_${n}`,type:t?"image":"video",url:i,duration:d};console.log("Created new template:",c);let u=[...o.filter(e=>e.id===ej?.id),c];eo.B.setState({mediaFiles:u}),l(c.id)}catch(e){throw console.error("Error in template upload process:",e),e instanceof Error?e:Error("Unknown error during upload")}finally{i!==s&&URL.revokeObjectURL(s)}}catch(e){console.error("Template upload error:",e),alert(`Error uploading template: ${e instanceof Error?e.message:"Unknown error"}`)}finally{eE(!1),t.target.value=""}};(0,a.useEffect)(()=>{(0,er.KG)().catch(e=>{console.error("Failed to initialize storage buckets:",e)})},[]);let e6=e=>{R(t=>t.filter((t,r)=>r!==e)),A(t=>{let r=new Set(t);r.delete(e);let o=new Set;return r.forEach(t=>{t>e?o.add(t-1):o.add(t)}),o})},e8=()=>{eo.B.setState({mediaFiles:t.filter(e=>e.id===ej?.id)}),l(ej?.id||null)};(0,a.useEffect)(()=>{r&&console.log("Preview template:",{selectedId:r,isDefaultTemplate:r===ej?.id,defaultTemplateType:ej?.type,foundTemplate:eP.find(e=>e.id===r),foundTemplateType:eP.find(e=>e.id===r)?.type})},[r,ej,eP]),(0,a.useEffect)(()=>{let e=document.createElement("style");return e.innerHTML=`
      @keyframes progress {
        0% { width: 0%; }
        100% { width: 100%; }
      }
      
      @keyframes fadeInScale {
        0% { opacity: 0; transform: scale(0.8); }
        50% { opacity: 1; transform: scale(1.05); }
        100% { opacity: 1; transform: scale(1); }
      }
      
      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-20px); }
        60% { transform: translateY(-10px); }
      }
    `,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),(0,a.useEffect)(()=>{},[!1]);let e9=(0,eH.useRouter)();return(0,o.jsxs)("div",{className:"flex flex-col min-h-screen",children:[o.jsx(eW,{position:"top-right",autoClose:5e3}),o.jsx("div",{className:"p-4 xl:p-6",suppressHydrationWarning:!0,children:o.jsx("div",{className:"pt-8 xl:pt-8",suppressHydrationWarning:!0,children:(0,o.jsxs)("div",{className:"flex flex-col space-y-6 mb-8",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:"Create Your Videos"}),ec.length>0&&!eI&&!q&&(0,o.jsxs)("button",{onClick:()=>eM(!0),className:"fixed bottom-8 right-8 bg-gradient-to-r from-[#f8d4eb] via-[#ce7acb] to-[#e9bcba] text-[#0a0a0c] font-medium px-4 py-3 rounded-xl text-sm flex items-center gap-2 shadow-lg z-40",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download ",ec.length," Videos"]}),(0,o.jsxs)("button",{onClick:()=>e9.push("/pricing"),className:"fixed bottom-16 left-8 bg-gradient-to-r from-[#f8d4eb] via-[#ce7acb] to-[#e9bcba] text-[#0a0a0c] font-medium px-4 py-3 rounded-xl text-sm flex items-center gap-2 shadow-lg z-40",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Upgrade"]})]}),(0,o.jsxs)("div",{className:"flex flex-row h-[calc(100vh-100px)] bg-[#e5e6e0] dark:bg-[#18181a] rounded-2xl border border-gray-300 dark:border-[#0e0f15]",children:[o.jsx("div",{className:"w-[calc(100%-250px)] sm:flex-1 overflow-y-auto",children:(0,o.jsxs)("div",{className:"p-3 space-y-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 [@media(min-width:1000px)]:grid-cols-2 gap-4",children:[(0,o.jsxs)("section",{className:"space-y-2 bg-[#f3f4ee] dark:bg-[#0e0f15] p-3 rounded-xl shadow-sm",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-[#fafafa] text-[#0a0a0c] font-bold text-sm border border-gray-200 dark:border-[#18181a]",children:"1"}),o.jsx("h2",{className:"text-base font-bold dark:text-white",children:"Hook"})]}),(0,o.jsxs)("div",{className:"relative",children:[o.jsx("input",{type:"file",accept:".txt",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{let t=e.target?.result;"string"==typeof t&&g(t)},e.readAsText(t)}},className:"hidden",id:"hook-file"}),(0,o.jsxs)("label",{htmlFor:"hook-file",className:"px-3 py-1.5 bg-[#202123] text-white rounded-lg hover:bg-[#202123]/90 transition-colors cursor-pointer flex items-center gap-2 text-sm font-normal",children:[o.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3 14v5a2 2 0 002 2h14a2 2 0 002-2v-5M12 3v12M5 10l7-7 7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Load"]})]})]}),o.jsx(n,{value:h,onChange:e=>g(e.target.value),placeholder:"Enter your hook here or load from a text file..",className:"min-h-[150px] dark:bg-[#18181a] dark:text-white dark:border-[#0e0f15] dark:placeholder:text-gray-400",maxLength:500}),(0,o.jsxs)("div",{className:"flex gap-2 mt-4",children:[o.jsx("div",{onClick:()=>{y(new Set([1])),b(1)},className:`flex-1 flex items-center justify-center p-4 rounded-xl cursor-pointer transition-all ${x.has(1)?"bg-[#5465ff] text-white dark:bg-[#fafafa]":"bg-white/50 hover:bg-white/70 dark:bg-[#18181a] dark:hover:bg-[#18191C] dark:text-white"}`,children:o.jsx("div",{className:`text-sm font-semibold ${x.has(1)?"text-white dark:!text-[#0a0a0c]":"text-gray-700 dark:text-white"}`,children:"Normal"})}),o.jsx("div",{onClick:()=>{y(new Set([2])),b(2)},className:`flex-1 flex items-center justify-center p-4 rounded-xl cursor-pointer transition-all ${x.has(2)?"bg-[#5465ff] text-white dark:bg-[#fafafa]":"bg-white/50 hover:bg-white/70 dark:bg-[#18181a] dark:hover:bg-[#18191C] dark:text-white"}`,children:o.jsx("div",{className:`text-sm font-semibold ${x.has(2)?"text-white dark:!text-[#0a0a0c]":"text-gray-700 dark:text-white"}`,children:"Background"})})]})]}),(0,o.jsxs)("section",{className:"space-y-2 bg-[#f3f4ee] dark:bg-[#0e0f15] p-3 rounded-xl shadow-sm",children:[o.jsx("div",{className:"flex items-center justify-between",children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-[#fafafa] text-[#0a0a0c] font-bold text-sm border border-gray-200 dark:border-[#18181a]",children:"2"}),o.jsx("h2",{className:"text-base font-bold dark:text-white",children:"Music"})]})}),k?o.jsx("div",{className:"h-[200px] flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5465ff]"})}):0===m.length?o.jsx("div",{className:"h-[200px] flex items-center justify-start pl-4 text-gray-500 dark:text-gray-400",children:(0,o.jsxs)("div",{children:[o.jsx("p",{children:"No music available"}),o.jsx("p",{className:"text-sm mt-2",children:"Add music in the Music page first"})]})}):o.jsx(Y,{className:"flex-1",children:o.jsx("div",{className:"py-2 space-y-2",children:m.map(e=>(0,o.jsxs)("div",{onClick:()=>f(u?.id===e.id?null:e),className:`flex items-center gap-3 p-2 pl-3 rounded-xl cursor-pointer transition-all ${u?.id===e.id?"bg-[#5465ff] text-white dark:bg-[#fafafa]":"bg-white/50 hover:bg-white/70 dark:bg-[#18181a] dark:hover:bg-[#18191C] dark:text-white"}`,children:[(0,o.jsxs)("div",{className:"relative w-10 h-10 [@media(min-width:1000px)]:w-12 [@media(min-width:1000px)]:h-12 flex-shrink-0",children:[e.cover_url?o.jsx(ei(),{src:e.cover_url,alt:e.title,layout:"fill",className:"object-cover rounded-md",sizes:"(max-width: 1000px) 40px, 48px"}):o.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-[#18181a] rounded-md flex items-center justify-center",children:o.jsx(J.Z,{className:"h-5 w-5 [@media(min-width:1000px)]:h-6 [@media(min-width:1000px)]:w-6 text-gray-500"})}),o.jsx("button",{onClick:t=>{t.stopPropagation(),ez(e)},className:`absolute inset-0 flex items-center justify-center bg-black/30 rounded-md ${T===e.id?"opacity-100":"opacity-0 hover:opacity-100"}`,children:T===e.id?o.jsx(K.Z,{className:"h-5 w-5 [@media(min-width:1000px)]:h-6 [@media(min-width:1000px)]:w-6 text-white"}):o.jsx(ee.Z,{className:"h-5 w-5 [@media(min-width:1000px)]:h-6 [@media(min-width:1000px)]:w-6 text-white"})})]}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-sm font-medium truncate ${u?.id===e.id?"text-white dark:!text-[#0a0a0c]":"text-gray-700 dark:text-white"}`,children:e.title}),(0,o.jsxs)("p",{className:`text-xs truncate ${u?.id===e.id?"text-white/80 dark:!text-[#0a0a0c]/80":"text-gray-500 dark:text-gray-300"}`,children:[e.artist," • ",eq(e.duration)]})]})]},e.id))})})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 [@media(min-width:1000px)]:grid-cols-2 gap-4",children:[(0,o.jsxs)("section",{className:"space-y-2 bg-[#f3f4ee] dark:bg-[#0e0f15] p-3 rounded-xl shadow-sm",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-[#fafafa] text-[#0a0a0c] font-bold text-sm border border-gray-200 dark:border-[#18181a]",children:"3"}),o.jsx("h2",{className:"text-base font-bold dark:text-white",children:"Part 1"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"10MB max"}),(0,o.jsxs)("div",{className:"relative",children:[o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:e3,className:"hidden",id:"template-file",disabled:eN}),(0,o.jsxs)("label",{htmlFor:"template-file",className:`px-3 py-1.5 bg-[#202123] text-white rounded-lg hover:bg-[#202123]/90 transition-colors cursor-pointer flex items-center gap-2 text-sm font-normal ${eN?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3 14v5a2 2 0 002 2h14a2 2 0 002-2v-5M12 3v12M5 10l7-7 7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),eN?"Uploading...":"Upload"]})]})]})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"flex justify-center mt-auto pt-4 mb-2",children:(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",min:"2",max:"29",value:S.min,onChange:e=>{let t=Number(e.target.value);t>=2&&t<S.max&&C(e=>({min:t,max:e.max}))},className:"w-12 h-7 px-1 border border-gray-300 dark:border-[#0e0f15] dark:bg-[#18181a] dark:text-white rounded-md text-center text-sm"}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"-"}),o.jsx("input",{type:"number",min:"3",max:"30",value:S.max,onChange:e=>{let t=Number(e.target.value);t<=30&&t>S.min&&C(e=>({min:e.min,max:t}))},className:"w-12 h-7 px-1 border border-gray-300 dark:border-[#0e0f15] dark:bg-[#18181a] dark:text-white rounded-md text-center text-sm"}),o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300 ml-1",children:"Seconds"})]})})}),o.jsx("div",{className:"flex justify-center gap-1",children:o.jsx("div",{className:"flex flex-col items-center gap-2",children:(0,o.jsxs)("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:e=>eB("top",e),className:`flex flex-col items-center px-3 py-2 rounded-md ${"top"===V?"bg-[#5465ff] text-white dark:bg-[#fafafa] dark:text-[#0a0a0c]":"bg-black/10 hover:bg-black/20 text-gray-700 dark:bg-[#18181a] dark:hover:bg-[#18191C] dark:text-white"} transition-colors`,title:"Afficher le haut de l'image/vid\xe9o",children:o.jsx("svg",{className:`w-4 h-4 ${"top"===V&&"dark:text-[#0a0a0c]"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4 5h16M4 9h16M10 13h4m-4 4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("button",{onClick:e=>eB("center",e),className:`flex flex-col items-center px-3 py-2 rounded-md ${"center"===V?"bg-[#5465ff] text-white dark:bg-[#fafafa] dark:text-[#0a0a0c]":"bg-black/10 hover:bg-black/20 text-gray-700 dark:bg-[#18181a] dark:hover:bg-[#18191C] dark:text-white"} transition-colors`,title:"Centrer l'image/vid\xe9o",children:o.jsx("svg",{className:`w-4 h-4 ${"center"===V&&"dark:text-[#0a0a0c]"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4 9h16M4 12h16M4 15h16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("button",{onClick:e=>eB("bottom",e),className:`flex flex-col items-center px-3 py-2 rounded-md ${"bottom"===V?"bg-[#5465ff] text-white dark:bg-[#fafafa] dark:text-[#0a0a0c]":"bg-black/10 hover:bg-black/20 text-gray-700 dark:bg-[#18181a] dark:hover:bg-[#18191C] dark:text-white"} transition-colors`,title:"Afficher le bas de l'image/vid\xe9o",children:o.jsx("svg",{className:`w-4 h-4 ${"bottom"===V&&"dark:text-[#0a0a0c]"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M10 7h4m-4 4h4M4 15h16M4 19h16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),o.jsx("div",{className:"pb-0.3"})]}),0!==eP.length||ej?o.jsx(o.Fragment,{children:(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-2 max-w-[170px] mx-auto",children:[ej&&o.jsx("div",{onClick:()=>l(ej.id),className:`relative aspect-[9/16] rounded-lg overflow-hidden cursor-pointer border-2 ${r===ej.id?"bg-[#5465ff]/10 border-[#5465ff] ring-2 ring-[#5465ff]":"border-gray-200 hover:border-gray-300 dark:border-[#0e0f15] dark:hover:border-[#27272A]"}`,children:o.jsx("div",{className:"relative w-full h-full",children:o.jsx(eG,{template:{url:ej.url,type:ej.type||"image"},alt:"Default Template",position:V})})},ej.id),eD.map(e=>(0,o.jsxs)("div",{onClick:()=>l(e.id),className:`relative aspect-[9/16] rounded-lg overflow-hidden cursor-pointer border-2 group ${r===e.id?"bg-[#5465ff]/10 border-[#5465ff] ring-2 ring-[#5465ff]":"border-gray-200 hover:border-gray-300 dark:border-[#0e0f15] dark:hover:border-[#27272A]"}`,children:[o.jsx("button",{onClick:e=>{e.stopPropagation(),e8()},className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 hover:bg-red-600 text-white rounded-full p-1",title:"Delete template",children:o.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("div",{className:"relative w-full h-full",children:o.jsx(eG,{template:{url:e.url,type:e.type},alt:`Template ${e.id}`,position:V})})]},e.id))]})}):o.jsx("div",{className:"h-[200px] flex items-center justify-center text-center text-gray-500 dark:text-gray-400",children:(0,o.jsxs)("div",{children:[o.jsx("p",{children:"No media uploaded"}),o.jsx("p",{className:"text-sm mt-2",children:"Upload 1 video or 1 image to continue"})]})})]}),(0,o.jsxs)("section",{className:"space-y-2 bg-[#f3f4ee] dark:bg-[#0e0f15] p-3 rounded-xl shadow-sm",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-[#fafafa] text-[#0a0a0c] font-bold text-sm border border-gray-200 dark:border-[#18181a]",children:"4"}),o.jsx("h2",{className:"text-base font-bold dark:text-white",children:"Part 2"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("div",{...e$(),children:[o.jsx("input",{...eO()}),(0,o.jsxs)("button",{className:"px-3 py-1.5 bg-[#202123] text-white rounded-lg hover:bg-[#202123]/90 transition-colors text-sm font-normal flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3 14v5a2 2 0 002 2h14a2 2 0 002-2v-5M12 3v12M5 10l7-7 7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload"]})]}),M.length>0&&(0,o.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[M.length,"/50"]})]})]}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"flex justify-center mt-auto pt-4 mb-2",children:(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",min:"2",max:"29",value:L.min,onChange:e=>{let t=Number(e.target.value);t>=2&&t<L.max&&I(e=>({min:t,max:e.max}))},className:"w-12 h-7 px-1 border border-gray-300 dark:border-[#0e0f15] dark:bg-[#18181a] dark:text-white rounded-md text-center text-sm"}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"-"}),o.jsx("input",{type:"number",min:"3",max:"30",value:L.max,onChange:e=>{let t=Number(e.target.value);t<=30&&t>L.min&&I(e=>({min:e.min,max:t}))},className:"w-12 h-7 px-1 border border-gray-300 dark:border-[#0e0f15] dark:bg-[#18181a] dark:text-white rounded-md text-center text-sm"}),o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300 ml-1",children:"Seconds"})]})})}),0===M.length?o.jsx("div",{className:"h-[200px] flex items-center justify-center text-center text-gray-500 dark:text-gray-400",children:(0,o.jsxs)("div",{children:[o.jsx("p",{children:"No media uploaded"}),o.jsx("p",{className:"text-sm mt-2",children:"Upload videos or images to continue (50 max)"})]})}):(0,o.jsxs)("div",{className:"mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[P.size>=2&&o.jsx("button",{onClick:()=>{Array.from(P).sort((e,t)=>t-e).forEach(e=>{e6(e)}),A(new Set)},className:"text-red-500 hover:text-red-600 transition-colors",title:"Delete selected medias",children:o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("button",{onClick:()=>{P.size===M.length?A(new Set):A(new Set(M.map((e,t)=>t)))},className:"text-xs text-[#5465ff] hover:underline dark:text-[#f8d4eb]",children:P.size===M.length?"Deselect All":"Select All"})]})}),o.jsx(Y,{className:"h-[200px] w-full",children:o.jsx("div",{className:"grid grid-cols-5 gap-2 p-1 min-w-[200px]",children:M.map((e,t)=>(0,o.jsxs)("div",{onClick:()=>eU(t),className:`relative w-10 aspect-[9/16] rounded-lg overflow-hidden cursor-pointer border-2 group ${P.has(t)?"bg-[#5465ff]/10 border-[#5465ff] ring-2 ring-[#5465ff] dark:bg-[#5465ff]/10 dark:border-[#5465ff] dark:ring-[#5465ff]":"border-transparent hover:border-gray-500 dark:hover:border-gray-300"}`,children:[o.jsx("button",{onClick:e=>{e.stopPropagation(),e6(t)},className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 hover:bg-red-600 text-white rounded-full p-1",title:"Delete media",children:o.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("div",{className:"relative w-full h-full",children:e.url?o.jsx("div",{className:"relative w-full h-full",children:"video"===e.type?o.jsx("video",{id:`video-${t}`,src:e.url,className:"w-full h-full object-cover",preload:"metadata",autoPlay:!0,muted:!0,loop:!0}):o.jsx(ei(),{src:e.url,alt:`Media ${t+1}`,className:"w-full h-full object-cover",layout:"fill"})}):(0,o.jsxs)("div",{className:"text-center p-2",children:[o.jsx("p",{className:"text-xs font-medium truncate dark:text-white",children:e.file.name}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"video"===e.type?eq(e.duration):"5s"})]})})]},t))})})]})]})]}),o.jsx("div",{className:"flex flex-col items-center justify-center mt-8 mb-4",children:o.jsx(s.Button,{onClick:e2,disabled:!r||0===P.size||!u||!h||q,className:"w-64 h-12 text-lg font-semibold bg-[#5564ff] hover:bg-[#5564ff]/90 text-white",children:q?o.jsx("div",{className:"flex items-center justify-center w-full",children:o.jsx("span",{children:"Generating..."})}):`Create ${h.split("\n").filter(e=>""!==e.trim()).length} Videos`})}),q&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"bg-white dark:bg-[#18181a] rounded-xl shadow-xl p-8 max-w-md w-full mx-4 transform transition-all",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("div",{children:[o.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:"Generating Videos"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Please wait while your videos are being created"})]}),o.jsx("div",{className:"text-right",children:(0,o.jsxs)("span",{className:"text-3xl font-bold text-[#5465ff]",children:[Math.round(eg),"%"]})})]}),o.jsx("div",{className:"relative w-full h-6 bg-gray-100 dark:bg-[#0e0f15] rounded-full overflow-hidden mb-4",children:o.jsx("div",{className:"absolute left-0 top-0 h-full bg-[#5465ff] transition-all duration-300 rounded-full",style:{width:`${eg}%`,transition:eg<90?"width 0.5s ease-in-out":"none"}})}),(0,o.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-300",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-[#5465ff] rounded-full animate-pulse"}),(0,o.jsxs)("span",{children:["Processing video ",es+1," of ",el]})]}),(0,o.jsxs)("span",{className:"font-medium",children:[es,"/",el," videos"]})]}),o.jsx("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:eg<90?o.jsx("div",{className:"text-center",children:0===eg?"Calculating estimated time...":(0,o.jsxs)(o.Fragment,{children:["Estimated time remaining: ",Math.ceil((el-es)*(r?eJ(eP.find(e=>e.id===r)?.size??1048576,M.reduce((e,t,r,{length:o})=>e+(t.file?.size||0)/o,0)):10)/60)," minutes"]})}):o.jsx("div",{className:"text-center",children:"Finalizing video generation..."})})]})}),eC&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsx("div",{className:"bg-white dark:bg-[#18181a] rounded-xl shadow-xl p-8 max-w-md w-full mx-4 transform transition-all",style:{animation:"fadeInScale 0.5s ease-out"},children:(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-[#5465ff] flex items-center justify-center mb-6",style:{animation:"bounce 2s ease"},children:o.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-2xl font-bold text-center mb-2 dark:text-white",children:"Generation Complete!"}),o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-300 mb-4",children:"All your videos have been successfully created"}),o.jsx("div",{className:"w-full bg-gray-100 dark:bg-[#0e0f15] rounded-full h-2 mb-4",children:o.jsx("div",{className:"bg-[#5465ff] h-2 rounded-full",style:{animation:"progress 1s ease-in-out forwards"}})})]})})}),eI&&!q&&ec.length>0&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:o.jsx("div",{className:"bg-white dark:bg-[#18181a] rounded-xl shadow-xl p-8 max-w-md w-full mx-4 border border-gray-300 dark:border-gray-700",children:(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,o.jsxs)("h3",{className:"text-2xl font-bold text-center mb-4 dark:text-white",children:["Your ",ec.length," videos are ready !"]}),o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-300 mb-6",children:"What would you like to do next ?"}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[(0,o.jsxs)("button",{onClick:e4,className:"px-6 py-3 bg-gradient-to-r from-[#f8d4eb] via-[#ce7acb] to-[#e9bcba] text-[#0a0a0c] rounded-lg font-medium flex-1 hover:opacity-90 transition-colors duration-200 flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download All (",ec.length," vid\xe9os)"]}),o.jsx("button",{onClick:()=>{eM(!1)},className:"px-6 py-3 border border-gray-300 dark:border-[#0e0f15] text-gray-700 dark:text-white rounded-lg font-medium flex-1 hover:bg-gray-50 dark:hover:bg-[#18191C] transition-colors duration-200",children:"Close"})]})]})})}),ep&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"relative w-full max-w-4xl",children:[o.jsx("button",{onClick:()=>eh(null),className:"absolute -top-10 right-0 text-white hover:text-gray-300",children:"Close"}),o.jsx("video",{className:"w-full rounded-lg",src:ep,controls:!0,autoPlay:!0,children:"Your browser does not support the video tag."})]})}),ef&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white dark:bg-[#18181a] rounded-2xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:"Vid\xe9os g\xe9n\xe9r\xe9es"}),o.jsx("button",{onClick:()=>em(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-[#18191C] rounded-lg dark:text-white",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx("div",{className:"grid gap-4",children:ec.map((e,t)=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-[#0e0f15] rounded-xl",children:[(0,o.jsxs)("span",{className:"font-medium dark:text-white",children:["Vid\xe9o ",t+1]}),o.jsx("button",{onClick:()=>e5(e),className:"px-4 py-2 bg-[#5465ff] text-white rounded-lg hover:bg-[#5465ff]/90 transition-colors",children:"T\xe9l\xe9charger"})]},e))})}),(0,o.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[o.jsx("button",{onClick:()=>em(!1),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:"Fermer"}),(0,o.jsxs)("button",{onClick:e4,className:"px-6 py-3 bg-[#5465ff] text-white rounded-xl hover:bg-[#5465ff]/90 transition-colors",children:["Tout t\xe9l\xe9charger (",ec.length," vid\xe9os)"]})]})]})})]})}),o.jsx("div",{className:"w-[250px] sm:w-[250px] md:w-[300px] lg:w-[350px] xl:w-[400px] p-3 sm:p-4 xl:p-6 bg-[#f3f4ee] dark:bg-[#18181A] flex-col items-center justify-center border-l border-gray-200 dark:border-[#0e0f15] flex",children:(0,o.jsxs)("div",{className:"w-full max-w-[220px] md:max-w-[280px] xl:max-w-[320px]",children:[o.jsx("div",{className:"aspect-[9/16] rounded-2xl bg-white dark:bg-[#18181A] shadow-lg overflow-hidden relative",children:r?(0,o.jsxs)(o.Fragment,{children:[o.jsx(eG,{template:{url:r===ej?.id?ej.url:eP.find(e=>e.id===r)?.url||"",type:r===ej?.id?ej.type||"image":eP.find(e=>e.id===r)?.type||"image"},alt:"Preview",position:V}),h&&o.jsx("canvas",{ref:ey,className:"absolute inset-0 w-full h-full",style:{pointerEvents:"none"}})]}):(0,o.jsxs)("div",{className:"w-full h-full relative",children:[o.jsx(ei(),{src:"/preview.jpg",alt:"Preview background",layout:"fill",objectFit:"cover",className:"absolute inset-0"}),o.jsx("div",{className:"relative w-full h-full",children:o.jsx("canvas",{ref:ey,className:"absolute inset-0 w-full h-full",style:{pointerEvents:"none"}})})]})}),(0,o.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-2",children:[(0,o.jsxs)("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:e=>{1===v?B({position:"top",offset:0}):F({position:"top",offset:0})},className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all ${(1===v?U.position:W.position)==="top"?"bg-[#5465ff] text-[#fafafa] dark:bg-[#fafafa] dark:text-[#0a0a0c]":"bg-white hover:bg-white/80 dark:bg-[#0e0f15] dark:hover:bg-[#18191C] dark:text-white"}`,children:o.jsx("svg",{className:`w-6 h-6 ${(1===v?U.position:W.position)==="top"&&"dark:text-[#0a0a0c]"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4 5h16M4 9h16M10 13h4m-4 4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("button",{onClick:e=>{1===v?B({position:"middle",offset:0}):F({position:"middle",offset:0})},className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all ${(1===v?U.position:W.position)==="middle"?"bg-[#5465ff] text-[#fafafa] dark:bg-[#fafafa] dark:text-[#0a0a0c]":"bg-white hover:bg-white/80 dark:bg-[#0e0f15] dark:hover:bg-[#18191C] dark:text-white"}`,children:o.jsx("svg",{className:`w-6 h-6 ${(1===v?U.position:W.position)==="middle"&&"dark:text-[#0a0a0c]"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4 9h16M4 12h16M4 15h16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,o.jsxs)("div",{className:"flex gap-2 items-center",children:[h&&o.jsx(s.Button,{onClick:async()=>{try{let e=eA();if(""===e.trim()){eR.info("Veuillez d'abord saisir un hook");return}let t=await fetch("/api/create-hook-preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,style:v,position:1===v?U.position:W.position,offset:1===v?U.offset:W.offset})});if(!t.ok)throw Error("Failed to create hook preview");let r=await t.blob(),o=URL.createObjectURL(r);window.open(o,"_blank")}catch(e){console.error("Error creating hook preview:",e)}},className:"bg-[#202123] hover:bg-[#202123]/90 text-white",size:"sm",children:"Test Hook"}),o.jsx("button",{onClick:()=>{1===v?B(e=>({...e,offset:Math.max(e.offset-5,-50)})):F(e=>({...e,offset:Math.max(e.offset-5,-50)}))},className:"w-8 h-8 rounded-lg bg-white hover:bg-white/80 dark:bg-[#0e0f15] dark:hover:bg-[#18191C] dark:text-white flex items-center justify-center transition-all","aria-label":"Move text up",children:o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M12 20V4m0 0l-6 6m6-6l6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("button",{onClick:()=>{1===v?B(e=>({...e,offset:Math.min(e.offset+5,50)})):F(e=>({...e,offset:Math.min(e.offset+5,50)}))},className:"w-8 h-8 rounded-lg bg-white hover:bg-white/80 dark:bg-[#0e0f15] dark:hover:bg-[#18191C] dark:text-white flex items-center justify-center transition-all","aria-label":"Move text down",children:o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M12 4v16m0 0l-6-6m6 6l6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]})})]})]})})})]})}},41439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return k}});let o=r(22098),a=r(33911),s=r(95344),i=a._(r(3729)),n=o._(r(1758)),l=r(73053),d=r(3470),c=r(74187);r(70837);let u=r(19847);function f(e){return"/"===e[0]?e.slice(1):e}let m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0},p=new Set,h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";globalThis.__NEXT_IMAGE_IMPORTED=!0;let g=new Map([["default",function(e){let{config:t,src:r,width:o,quality:a}=e;return r.endsWith(".svg")&&!t.dangerouslyAllowSVG?r:(0,u.normalizePathTrailingSlash)(t.path)+"?url="+encodeURIComponent(r)+"&w="+o+"&q="+(a||75)}],["imgix",function(e){let{config:t,src:r,width:o,quality:a}=e,s=new URL(""+t.path+f(r)),i=s.searchParams;return i.set("auto",i.getAll("auto").join(",")||"format"),i.set("fit",i.get("fit")||"max"),i.set("w",i.get("w")||o.toString()),a&&i.set("q",a.toString()),s.href}],["cloudinary",function(e){let{config:t,src:r,width:o,quality:a}=e,s=["f_auto","c_limit","w_"+o,"q_"+(a||"auto")].join(",")+"/";return""+t.path+s+f(r)}],["akamai",function(e){let{config:t,src:r,width:o}=e;return""+t.path+f(r)+"?imwidth="+o}],["custom",function(e){let{src:t}=e;throw Error('Image with src "'+t+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}]]);function x(e){return void 0!==e.default}function y(e){let{config:t,src:r,unoptimized:o,layout:a,width:s,quality:i,sizes:n,loader:l}=e;if(o)return{src:r,srcSet:void 0,sizes:void 0};let{widths:d,kind:c}=function(e,t,r,o){let{deviceSizes:a,allSizes:s}=e;if(o&&("fill"===r||"responsive"===r)){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(o);r)t.push(parseInt(r[2]));if(t.length){let e=.01*Math.min(...t);return{widths:s.filter(t=>t>=a[0]*e),kind:"w"}}return{widths:s,kind:"w"}}return"number"!=typeof t||"fill"===r||"responsive"===r?{widths:a,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>s.find(t=>t>=e)||s[s.length-1]))],kind:"x"}}(t,s,a,n),u=d.length-1;return{sizes:n||"w"!==c?n:"100vw",srcSet:d.map((e,o)=>l({config:t,src:r,quality:i,width:e})+" "+("w"===c?e:o+1)+c).join(", "),src:l({config:t,src:r,quality:i,width:d[u]})}}function v(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e,10):void 0}function b(e){var t;let r=(null==(t=e.config)?void 0:t.loader)||"default",o=g.get(r);if(o)return o(e);throw Error('Unknown "loader" found in "next.config.js". Expected: '+l.VALID_LOADERS.join(", ")+". Received: "+r)}function w(e,t,r,o,a,s){e&&e.src!==h&&e["data-loaded-src"]!==t&&(e["data-loaded-src"]=t,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentNode&&(p.add(t),"blur"===o&&s(!0),null==a?void 0:a.current)){let{naturalWidth:t,naturalHeight:r}=e;a.current({naturalWidth:t,naturalHeight:r})}}))}let _=e=>{let{imgAttributes:t,heightInt:r,widthInt:o,qualityInt:a,layout:n,className:l,imgStyle:d,blurStyle:c,isLazy:u,placeholder:f,loading:m,srcString:p,config:h,unoptimized:g,loader:x,onLoadingCompleteRef:v,setBlurComplete:b,setIntersection:_,onLoad:k,onError:j,isVisible:T,noscriptSizes:N,...E}=e;return m=u?"lazy":m,(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{...E,...t,decoding:"async","data-nimg":n,className:l,style:{...d,...c},ref:(0,i.useCallback)(e=>{_(e),(null==e?void 0:e.complete)&&w(e,p,n,f,v,b)},[_,p,n,f,v,b]),onLoad:e=>{w(e.currentTarget,p,n,f,v,b),k&&k(e)},onError:e=>{"blur"===f&&b(!0),j&&j(e)}}),(u||"blur"===f)&&(0,s.jsx)("noscript",{children:(0,s.jsx)("img",{...E,loading:m,decoding:"async","data-nimg":n,style:d,className:l,...y({config:h,src:p,unoptimized:g,layout:n,width:o,quality:a,sizes:N,loader:x})})})]})};function k(e){var t;let r,{src:o,sizes:a,unoptimized:u=!1,priority:f=!1,loading:p,lazyRoot:g=null,lazyBoundary:w,className:k,quality:j,width:T,height:N,style:E,objectFit:S,objectPosition:C,onLoadingComplete:L,placeholder:I="empty",blurDataURL:M,...R}=e,P=(0,i.useContext)(c.ImageConfigContext),A=(0,i.useMemo)(()=>{let e=m||P||l.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r}},[P]),$=a?"responsive":"intrinsic";"layout"in R&&(R.layout&&($=R.layout),delete R.layout);let O=b;if("loader"in R){if(R.loader){let e=R.loader;O=t=>{let{config:r,...o}=t;return e(o)}}delete R.loader}let D="";if("object"==typeof(t=o)&&(x(t)||void 0!==t.src)){let e=x(o)?o.default:o;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(M=M||e.blurDataURL,D=e.src,(!$||"fill"!==$)&&(N=N||e.height,T=T||e.width,!e.height||!e.width))throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e))}let z=!f&&("lazy"===p||void 0===p);((o="string"==typeof o?o:D).startsWith("data:")||o.startsWith("blob:"))&&(u=!0,z=!1),A.unoptimized&&(u=!0);let[U,B]=(0,i.useState)(!1),[W,F,V]=(0,d.useIntersection)({rootRef:g,rootMargin:w||"200px",disabled:!z}),H=!z||F,q={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},G={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},X=!1,Y=v(T),Z=v(N),Q=v(j),J=Object.assign({},E,{position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:S,objectPosition:C}),K="blur"!==I||U?{}:{backgroundSize:S||"cover",backgroundPosition:C||"0% 0%",filter:"blur(20px)",backgroundImage:'url("'+M+'")'};if("fill"===$)q.display="block",q.position="absolute",q.top=0,q.left=0,q.bottom=0,q.right=0;else if(void 0!==Y&&void 0!==Z){let e=Z/Y,t=isNaN(e)?"100%":""+100*e+"%";"responsive"===$?(q.display="block",q.position="relative",X=!0,G.paddingTop=t):"intrinsic"===$?(q.display="inline-block",q.position="relative",q.maxWidth="100%",X=!0,G.maxWidth="100%",r="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27"+Y+"%27%20height=%27"+Z+"%27/%3e"):"fixed"===$&&(q.display="inline-block",q.position="relative",q.width=Y,q.height=Z)}let ee={src:h,srcSet:void 0,sizes:void 0};H&&(ee=y({config:A,src:o,unoptimized:u,layout:$,width:Y,quality:Q,sizes:a,loader:O}));let et=o,er={imageSrcSet:ee.srcSet,imageSizes:ee.sizes,crossOrigin:R.crossOrigin,referrerPolicy:R.referrerPolicy},eo=i.default.useEffect,ea=(0,i.useRef)(L),es=(0,i.useRef)(o);(0,i.useEffect)(()=>{ea.current=L},[L]),eo(()=>{es.current!==o&&(V(),es.current=o)},[V,o]);let ei={isLazy:z,imgAttributes:ee,heightInt:Z,widthInt:Y,qualityInt:Q,layout:$,className:k,imgStyle:J,blurStyle:K,loading:p,config:A,unoptimized:u,placeholder:I,loader:O,srcString:et,onLoadingCompleteRef:ea,setBlurComplete:B,setIntersection:W,isVisible:H,noscriptSizes:a,...R};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{style:q,children:[X?(0,s.jsx)("span",{style:G,children:r?(0,s.jsx)("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:r}):null}):null,(0,s.jsx)(_,{...ei})]}),f?(0,s.jsx)(n.default,{children:(0,s.jsx)("link",{rel:"preload",as:"image",href:ee.srcSet?void 0:ee.src,...er},"__nimg-"+ee.src+ee.srcSet+ee.sizes)}):null]})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1426:(e,t,r)=>{"use strict";e.exports=r(41439)},41664:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var o=r(29554),a=r.n(o),s=r(48938);async function i(e,t="bluum_videos.zip"){if(!e||0===e.length){console.error("Aucune vid\xe9o \xe0 t\xe9l\xe9charger");return}console.log(`D\xe9but du processus de t\xe9l\xe9chargement pour ${e.length} vid\xe9os`),console.log("Vid\xe9os \xe0 t\xe9l\xe9charger:",e);try{if(!a())throw Error("JSZip n'est pas disponible");if(!s.saveAs)throw Error("saveAs n'est pas disponible");let r=new(a());console.log("Instance JSZip cr\xe9\xe9e");let o=0,i=e.length,n=r.folder("videos");if(!n)throw Error("Impossible de cr\xe9er le dossier dans le ZIP");console.log('Dossier "videos" cr\xe9\xe9 dans le ZIP');let l=e.map(async(e,t)=>{try{console.log(`T\xe9l\xe9chargement de la vid\xe9o ${t+1}/${i}: ${e.fileName} depuis ${e.path}`);let r=await fetch(e.path);if(!r.ok)throw Error(`\xc9chec du t\xe9l\xe9chargement de la vid\xe9o ${e.fileName}: ${r.status} ${r.statusText}`);console.log(`Vid\xe9o ${t+1} r\xe9cup\xe9r\xe9e avec succ\xe8s, conversion en blob...`);let a=await r.blob();console.log(`Taille du blob pour ${e.fileName}: ${a.size} octets`);let s=function(e,t){let r=e.lastIndexOf("."),o=r>0?e.substring(0,r):e,a=r>0?e.substring(r):"";return`${o}_${t+1}${a}`}(e.fileName,t);n.file(s,a),o++,console.log(`T\xe9l\xe9chargement ${o}/${i}: ${e.fileName} ajout\xe9 au ZIP`)}catch(t){console.error(`Erreur lors du t\xe9l\xe9chargement de ${e.fileName}:`,t)}});if(console.log("Attente de tous les t\xe9l\xe9chargements..."),await Promise.all(l),0===o)throw Error("Aucune vid\xe9o n'a pu \xeatre t\xe9l\xe9charg\xe9e");console.log("G\xe9n\xe9ration du fichier ZIP...");let d=await r.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:5}});console.log(`ZIP g\xe9n\xe9r\xe9 avec succ\xe8s, taille: ${d.size} octets. T\xe9l\xe9chargement...`),(0,s.saveAs)(d,t),console.log("T\xe9l\xe9chargement du ZIP lanc\xe9")}catch(e){throw console.error("Erreur d\xe9taill\xe9e lors de la cr\xe9ation du ZIP:",e),e}}},57929:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(25036),a=r(67874);function s(){return o.jsx(a.T,{})}},31805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>s,__esModule:()=>a,default:()=>i});let o=(0,r(86843).createProxy)(String.raw`/Users/twain/Bluum/BLUUM 1.2/Bluum_1.2/app/create/page.tsx`),{__esModule:a,$$typeof:s}=o,i=o.default},45996:()=>{},85222:(e,t,r)=>{"use strict";function o(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),!1===r||!o.defaultPrevented)return t?.(o)}}r.d(t,{M:()=>o})},98462:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var o=r(3729),a=r(95344);function s(e,t=[]){let r=[],s=()=>{let t=r.map(e=>o.createContext(e));return function(r){let a=r?.[e]||t;return o.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return s.scopeName=e,[function(t,s){let i=o.createContext(s),n=r.length;r=[...r,s];let l=t=>{let{scope:r,children:s,...l}=t,d=r?.[e]?.[n]||i,c=o.useMemo(()=>l,Object.values(l));return(0,a.jsx)(d.Provider,{value:c,children:s})};return l.displayName=t+"Provider",[l,function(r,a){let l=a?.[e]?.[n]||i,d=o.useContext(l);if(d)return d;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:o})=>{let a=r(e)[`__scope${o}`];return{...t,...a}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(s,...t)]}},3975:(e,t,r)=>{"use strict";r.d(t,{gm:()=>s});var o=r(3729);r(95344);var a=o.createContext(void 0);function s(e){let t=o.useContext(a);return e||t||"ltr"}},43234:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var o=r(3729),a=r(31405),s=r(16069),i=e=>{let{present:t,children:r}=e,i=function(e){var t,r;let[a,i]=o.useState(),l=o.useRef({}),d=o.useRef(e),c=o.useRef("none"),[u,f]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},o.useReducer((e,t)=>r[e][t]??e,t));return o.useEffect(()=>{let e=n(l.current);c.current="mounted"===u?e:"none"},[u]),(0,s.b)(()=>{let t=l.current,r=d.current;if(r!==e){let o=c.current,a=n(t);e?f("MOUNT"):"none"===a||t?.display==="none"?f("UNMOUNT"):r&&o!==a?f("ANIMATION_OUT"):f("UNMOUNT"),d.current=e}},[e,f]),(0,s.b)(()=>{if(a){let e;let t=a.ownerDocument.defaultView??window,r=r=>{let o=n(l.current).includes(r.animationName);if(r.target===a&&o&&(f("ANIMATION_END"),!d.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},o=e=>{e.target===a&&(c.current=n(l.current))};return a.addEventListener("animationstart",o),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",o),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}f("ANIMATION_END")},[a,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:o.useCallback(e=>{e&&(l.current=getComputedStyle(e)),i(e)},[])}}(t),l="function"==typeof r?r({present:i.isPresent}):o.Children.only(r),d=(0,a.e)(i.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(l));return"function"==typeof r||i.isPresent?o.cloneElement(l,{ref:d}):null};function n(e){return e?.animationName||"none"}i.displayName="Presence"},62409:(e,t,r)=>{"use strict";r.d(t,{WV:()=>i});var o=r(3729);r(81202);var a=r(32751),s=r(95344),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=o.forwardRef((e,r)=>{let{asChild:o,...i}=e,n=o?a.g7:t;return(0,s.jsx)(n,{...i,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{})},2256:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var o=r(3729);function a(e){let t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...e)=>t.current?.(...e),[])}},16069:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var o=r(3729),a=globalThis?.document?o.useLayoutEffect:()=>{}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,497,22,843,96,465],()=>r(69563));module.exports=o})();